var e=Object.defineProperty,t=(e,t)=>()=>(e&&(t=e(e=0)),t),n=(t,n)=>{let r={};for(var i in t)e(r,i,{get:t[i],enumerable:!0});return n&&e(r,Symbol.toStringTag,{value:`Module`}),r};const r=e=>({setHttpHandler(t){e.httpHandler=t},httpHandler(){return e.httpHandler},updateHttpClientConfig(t,n){e.httpHandler?.updateHttpClientConfig(t,n)},httpHandlerConfigs(){return e.httpHandler.httpHandlerConfigs()}}),i=e=>({httpHandler:e.httpHandler()});var a;(function(e){e.HTTP=`http`,e.HTTPS=`https`})(a||={});var o;(function(e){e.MD5=`md5`,e.CRC32=`crc32`,e.CRC32C=`crc32c`,e.SHA1=`sha1`,e.SHA256=`sha256`})(o||={});const s=`__smithy_context`;var c=class e{method;protocol;hostname;port;path;query;headers;username;password;fragment;body;constructor(e){this.method=e.method||`GET`,this.hostname=e.hostname||`localhost`,this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?e.protocol.slice(-1)===`:`?e.protocol:`${e.protocol}:`:`https:`,this.path=e.path?e.path.charAt(0)===`/`?e.path:`/${e.path}`:`/`,this.username=e.username,this.password=e.password,this.fragment=e.fragment}static clone(t){let n=new e({...t,headers:{...t.headers}});return n.query&&=l(n.query),n}static isInstance(e){if(!e)return!1;let t=e;return`method`in t&&`protocol`in t&&`hostname`in t&&`path`in t&&typeof t.query==`object`&&typeof t.headers==`object`}clone(){return e.clone(this)}};function l(e){return Object.keys(e).reduce((t,n)=>{let r=e[n];return{...t,[n]:Array.isArray(r)?[...r]:r}},{})}var u=class{statusCode;reason;headers;body;constructor(e){this.statusCode=e.statusCode,this.reason=e.reason,this.headers=e.headers||{},this.body=e.body}static isInstance(e){if(!e)return!1;let t=e;return typeof t.statusCode==`number`&&typeof t.headers==`object`}};function d(e){return e}const f=e=>t=>async n=>{if(!c.isInstance(n.request))return t(n);let{request:r}=n,{handlerProtocol:i=``}=e.requestHandler.metadata||{};if(i.indexOf(`h2`)>=0&&!r.headers[`:authority`])delete r.headers.host,r.headers[`:authority`]=r.hostname+(r.port?`:`+r.port:``);else if(!r.headers.host){let e=r.hostname;r.port!=null&&(e+=`:${r.port}`),r.headers.host=e}return t(n)},p={name:`hostHeaderMiddleware`,step:`build`,priority:`low`,tags:[`HOST`],override:!0},m=e=>({applyToStack:t=>{t.add(f(e),p)}}),h=()=>(e,t)=>async n=>{try{let r=await e(n),{clientName:i,commandName:a,logger:o,dynamoDbDocumentClientOptions:s={}}=t,{overrideInputFilterSensitiveLog:c,overrideOutputFilterSensitiveLog:l}=s,u=c??t.inputFilterSensitiveLog,d=l??t.outputFilterSensitiveLog,{$metadata:f,...p}=r.output;return o?.info?.({clientName:i,commandName:a,input:u(n.input),output:d(p),metadata:f}),r}catch(e){let{clientName:r,commandName:i,logger:a,dynamoDbDocumentClientOptions:o={}}=t,{overrideInputFilterSensitiveLog:s}=o,c=s??t.inputFilterSensitiveLog;throw a?.error?.({clientName:r,commandName:i,input:c(n.input),error:e,metadata:e.$metadata}),e}},ee={name:`loggerMiddleware`,tags:[`LOGGER`],step:`initialize`,override:!0},te=e=>({applyToStack:e=>{e.add(h(),ee)}}),ne={step:`build`,tags:[`RECURSION_DETECTION`],name:`recursionDetectionMiddleware`,override:!0,priority:`low`},re=()=>e=>async t=>e(t),ie=e=>({applyToStack:e=>{e.add(re(),ne)}}),g=e=>e[s]||(e[s]={}),_=e=>{if(typeof e==`function`)return e;let t=Promise.resolve(e);return()=>t},ae=(e,t)=>{if(!t||t.length===0)return e;let n=[];for(let r of t)for(let t of e)t.schemeId.split(`#`)[1]===r&&n.push(t);for(let t of e)n.find(({schemeId:e})=>e===t.schemeId)||n.push(t);return n};function oe(e){let t=new Map;for(let n of e)t.set(n.schemeId,n);return t}const se=(e,t)=>(n,r)=>async i=>{let a=ae(e.httpAuthSchemeProvider(await t.httpAuthSchemeParametersProvider(e,r,i.input)),e.authSchemePreference?await e.authSchemePreference():[]),o=oe(e.httpAuthSchemes),s=g(r),c=[];for(let n of a){let i=o.get(n.schemeId);if(!i){c.push(`HttpAuthScheme \`${n.schemeId}\` was not enabled for this service.`);continue}let a=i.identityProvider(await t.identityProviderConfigProvider(e));if(!a){c.push(`HttpAuthScheme \`${n.schemeId}\` did not have an IdentityProvider configured.`);continue}let{identityProperties:l={},signingProperties:u={}}=n.propertiesExtractor?.(e,r)||{};n.identityProperties=Object.assign(n.identityProperties||{},l),n.signingProperties=Object.assign(n.signingProperties||{},u),s.selectedHttpAuthScheme={httpAuthOption:n,identity:await a(n.identityProperties),signer:i.signer};break}if(!s.selectedHttpAuthScheme)throw Error(c.join(`
`));return n(i)},ce={step:`serialize`,tags:[`HTTP_AUTH_SCHEME`],name:`httpAuthSchemeMiddleware`,override:!0,relation:`before`,toMiddleware:`endpointV2Middleware`},le=(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:n})=>({applyToStack:r=>{r.addRelativeTo(se(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:n}),ce)}}),ue={name:`serializerMiddleware`,step:`serialize`,tags:[`SERIALIZER`],override:!0},de=e=>e=>{throw e},fe=(e,t)=>{},pe=e=>(e,t)=>async n=>{if(!c.isInstance(n.request))return e(n);let r=g(t).selectedHttpAuthScheme;if(!r)throw Error(`No HttpAuthScheme was selected: unable to sign request`);let{httpAuthOption:{signingProperties:i={}},identity:a,signer:o}=r,s=await e({...n,request:await o.sign(n.request,a,i)}).catch((o.errorHandler||de)(i));return(o.successHandler||fe)(s.response,i),s},me={step:`finalizeRequest`,tags:[`HTTP_SIGNING`],name:`httpSigningMiddleware`,aliases:[`apiKeyMiddleware`,`tokenMiddleware`,`awsAuthMiddleware`],override:!0,relation:`after`,toMiddleware:`retryMiddleware`},he=e=>({applyToStack:t=>{t.addRelativeTo(pe(e),me)}}),ge=e=>{if(typeof e==`function`)return e;let t=Promise.resolve(e);return()=>t},_e=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/`,ve=Object.entries(_e).reduce((e,[t,n])=>(e[n]=Number(t),e),{}),ye=_e.split(``),be=e=>{let t=e.length/4*3;e.slice(-2)===`==`?t-=2:e.slice(-1)===`=`&&t--;let n=new ArrayBuffer(t),r=new DataView(n);for(let t=0;t<e.length;t+=4){let n=0,i=0;for(let r=t,a=t+3;r<=a;r++)if(e[r]!==`=`){if(!(e[r]in ve))throw TypeError(`Invalid character ${e[r]} in base64 string.`);n|=ve[e[r]]<<(a-r)*6,i+=6}else n>>=6;let a=t/4*3;n>>=i%8;let o=Math.floor(i/8);for(let e=0;e<o;e++){let t=(o-e-1)*8;r.setUint8(a+e,(n&255<<t)>>t)}}return new Uint8Array(n)};var v,xe=t((()=>{v=e=>new TextEncoder().encode(e)})),y,Se=t((()=>{xe(),y=e=>typeof e==`string`?v(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)})),b,Ce=t((()=>{b=e=>{if(typeof e==`string`)return e;if(typeof e!=`object`||typeof e.byteOffset!=`number`||typeof e.byteLength!=`number`)throw Error(`@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.`);return new TextDecoder(`utf-8`).decode(e)}})),x=t((()=>{xe(),Se(),Ce()}));x();function we(e){let t;t=typeof e==`string`?v(e):e;let n=typeof t==`object`&&typeof t.length==`number`,r=typeof t==`object`&&typeof t.byteOffset==`number`&&typeof t.byteLength==`number`;if(!n&&!r)throw Error(`@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.`);let i=``;for(let e=0;e<t.length;e+=3){let n=0,r=0;for(let i=e,a=Math.min(e+3,t.length);i<a;i++)n|=t[i]<<(a-i-1)*8,r+=8;let a=Math.ceil(r/6);n<<=a*6-r;for(let e=1;e<=a;e++){let t=(a-e)*6;i+=ye[(n&63<<t)>>t]}i+=`==`.slice(0,4-a)}return i}x();var Te=class e extends Uint8Array{static fromString(t,n=`utf-8`){if(typeof t==`string`)return n===`base64`?e.mutate(be(t)):e.mutate(v(t));throw Error(`Unsupported conversion from ${typeof t} to Uint8ArrayBlobAdapter.`)}static mutate(t){return Object.setPrototypeOf(t,e.prototype),t}transformToString(e=`utf-8`){return e===`base64`?we(this):b(this)}};const S=e=>encodeURIComponent(e).replace(/[!'()*]/g,Ee),Ee=e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`;function De(e){let t=[];for(let n of Object.keys(e).sort()){let r=e[n];if(n=S(n),Array.isArray(r))for(let e=0,i=r.length;e<i;e++)t.push(`${n}=${S(r[e])}`);else{let e=n;(r||typeof r==`string`)&&(e+=`=${S(r)}`),t.push(e)}}return t.join(`&`)}function Oe(e,t){return new Request(e,t)}function ke(e=0){return new Promise((t,n)=>{e&&setTimeout(()=>{let t=Error(`Request did not complete within ${e} ms`);t.name=`TimeoutError`,n(t)},e)})}const Ae={supported:void 0};var je=class e{config;configProvider;static create(t){return typeof t?.handle==`function`?t:new e(t)}constructor(e){typeof e==`function`?this.configProvider=e().then(e=>e||{}):(this.config=e??{},this.configProvider=Promise.resolve(this.config)),Ae.supported===void 0&&(Ae.supported=typeof Request<`u`&&`keepalive`in Oe(`https://[::1]`))}destroy(){}async handle(e,{abortSignal:t,requestTimeout:n}={}){this.config||=await this.configProvider;let r=n??this.config.requestTimeout,i=this.config.keepAlive===!0,a=this.config.credentials;if(t?.aborted){let e=Error(`Request aborted`);return e.name=`AbortError`,Promise.reject(e)}let o=e.path,s=De(e.query||{});s&&(o+=`?${s}`),e.fragment&&(o+=`#${e.fragment}`);let c=``;(e.username!=null||e.password!=null)&&(c=`${e.username??``}:${e.password??``}@`);let{port:l,method:d}=e,f=`${e.protocol}//${c}${e.hostname}${l?`:${l}`:``}${o}`,p=d===`GET`||d===`HEAD`?void 0:e.body,m={body:p,headers:new Headers(e.headers),method:d,credentials:a};this.config?.cache&&(m.cache=this.config.cache),p&&(m.duplex=`half`),typeof AbortController<`u`&&(m.signal=t),Ae.supported&&(m.keepalive=i),typeof this.config.requestInit==`function`&&Object.assign(m,this.config.requestInit(e));let h=()=>{},ee=Oe(f,m),te=[fetch(ee).then(e=>{let t=e.headers,n={};for(let e of t.entries())n[e[0]]=e[1];return e.body==null?e.blob().then(t=>({response:new u({headers:n,reason:e.statusText,statusCode:e.status,body:t})})):{response:new u({headers:n,reason:e.statusText,statusCode:e.status,body:e.body})}}),ke(r)];return t&&te.push(new Promise((e,n)=>{let r=()=>{let e=Error(`Request aborted`);e.name=`AbortError`,n(e)};if(typeof t.addEventListener==`function`){let e=t;e.addEventListener(`abort`,r,{once:!0}),h=()=>e.removeEventListener(`abort`,r)}else t.onabort=r})),Promise.race(te).finally(h)}updateHttpClientConfig(e,t){this.config=void 0,this.configProvider=this.configProvider.then(n=>(n[e]=t,n))}httpHandlerConfigs(){return this.config??{}}};const Me=async e=>typeof Blob==`function`&&e instanceof Blob||e.constructor?.name===`Blob`?Blob.prototype.arrayBuffer===void 0?Ne(e):new Uint8Array(await e.arrayBuffer()):Pe(e);async function Ne(e){let t=be(await Fe(e));return new Uint8Array(t)}async function Pe(e){let t=[],n=e.getReader(),r=!1,i=0;for(;!r;){let{done:e,value:a}=await n.read();a&&(t.push(a),i+=a.length),r=e}let a=new Uint8Array(i),o=0;for(let e of t)a.set(e,o),o+=e.length;return a}function Fe(e){return new Promise((t,n)=>{let r=new FileReader;r.onloadend=()=>{if(r.readyState!==2)return n(Error(`Reader aborted too early`));let e=r.result??``,i=e.indexOf(`,`),a=i>-1?i+1:e.length;t(e.substring(a))},r.onabort=()=>n(Error(`Read aborted`)),r.onerror=()=>n(r.error),r.readAsDataURL(e)})}const Ie={},Le={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();t.length===1&&(t=`0${t}`),Ie[e]=t,Le[t]=e}function Re(e){if(e.length%2!=0)throw Error(`Hex encoded strings must have an even number length`);let t=new Uint8Array(e.length/2);for(let n=0;n<e.length;n+=2){let r=e.slice(n,n+2).toLowerCase();if(r in Le)t[n/2]=Le[r];else throw Error(`Cannot decode unrecognized sequence ${r} as hexadecimal`)}return t}function C(e){let t=``;for(let n=0;n<e.byteLength;n++)t+=Ie[e[n]];return t}const ze=async(e=new Uint8Array,t)=>{if(e instanceof Uint8Array)return Te.mutate(e);if(!e)return Te.mutate(new Uint8Array);let n=t.streamCollector(e);return Te.mutate(await n)};function Be(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return`%`+e.charCodeAt(0).toString(16).toUpperCase()})}const Ve=e=>typeof e==`function`?e():e,He=(e,t,n,r,i)=>({name:t,namespace:e,traits:n,input:r,output:i}),Ue=e=>(t,n)=>async r=>{let{response:i}=await t(r),{operationSchema:a}=g(n),[,o,s,c,l,d]=a??[];try{return{response:i,output:await e.protocol.deserializeResponse(He(o,s,c,l,d),{...e,...n},i)}}catch(e){if(Object.defineProperty(e,`$response`,{value:i,enumerable:!1,writable:!1,configurable:!1}),!(`$metadata`in e)){let t=`Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.`;try{e.message+=`
  `+t}catch{!n.logger||n.logger?.constructor?.name===`NoOpLogger`?console.warn(t):n.logger?.warn?.(t)}e.$responseBodyText!==void 0&&e.$response&&(e.$response.body=e.$responseBodyText);try{if(u.isInstance(i)){let{headers:t={}}=i,n=Object.entries(t);e.$metadata={httpStatusCode:i.statusCode,requestId:We(/^x-[\w-]+-request-?id$/,n),extendedRequestId:We(/^x-[\w-]+-id-2$/,n),cfId:We(/^x-[\w-]+-cf-id$/,n)}}}catch{}}throw e}},We=(e,t)=>(t.find(([t])=>t.match(e))||[void 0,void 0])[1],Ge=e=>(t,n)=>async r=>{let{operationSchema:i}=g(n),[,a,o,s,c,l]=i??[],u=n.endpointV2?.url&&e.urlParser?async()=>e.urlParser(n.endpointV2.url):e.endpoint,d=await e.protocol.serializeRequest(He(a,o,s,c,l),r.input,{...e,...n,endpoint:u});return t({...r,request:d})},Ke={name:`deserializerMiddleware`,step:`deserialize`,tags:[`DESERIALIZER`],override:!0},qe={name:`serializerMiddleware`,step:`serialize`,tags:[`SERIALIZER`],override:!0};function Je(e){return{applyToStack:t=>{t.add(Ge(e),qe),t.add(Ue(e),Ke),e.protocol.setSerdeContext(e)}}}function w(e){if(typeof e==`object`)return e;e|=0;let t={},n=0;for(let r of[`httpLabel`,`idempotent`,`idempotencyToken`,`sensitive`,`httpPayload`,`httpResponseCode`,`httpQueryParams`])(e>>n++&1)==1&&(t[r]=1);return t}var T=class e{ref;memberName;static symbol=Symbol.for(`@smithy/nor`);symbol=e.symbol;name;schema;_isMemberSchema;traits;memberTraits;normalizedTraits;constructor(t,n){this.ref=t,this.memberName=n;let r=[],i=t,a=t;for(this._isMemberSchema=!1;Xe(i);)r.push(i[1]),i=i[0],a=Ve(i),this._isMemberSchema=!0;if(r.length>0){this.memberTraits={};for(let e=r.length-1;e>=0;--e){let t=r[e];Object.assign(this.memberTraits,w(t))}}else this.memberTraits=0;if(a instanceof e){let e=this.memberTraits;Object.assign(this,a),this.memberTraits=Object.assign({},e,a.getMemberTraits(),this.getMemberTraits()),this.normalizedTraits=void 0,this.memberName=n??a.memberName;return}if(this.schema=Ve(a),Ze(this.schema)?(this.name=`${this.schema[1]}#${this.schema[2]}`,this.traits=this.schema[3]):(this.name=this.memberName??String(a),this.traits=0),this._isMemberSchema&&!n)throw Error(`@smithy/core/schema - NormalizedSchema member init ${this.getName(!0)} missing member name.`)}static[Symbol.hasInstance](e){let t=this.prototype.isPrototypeOf(e);return!t&&typeof e==`object`&&e?e.symbol===this.symbol:t}static of(t){let n=Ve(t);if(n instanceof e)return n;if(Xe(n)){let[r,i]=n;if(r instanceof e)return Object.assign(r.getMergedTraits(),w(i)),r;throw Error(`@smithy/core/schema - may not init unwrapped member schema=${JSON.stringify(t,null,2)}.`)}return new e(n)}getSchema(){let e=this.schema;return e[0]===0?e[4]:e}getName(e=!1){let{name:t}=this;return!e&&t&&t.includes(`#`)?t.split(`#`)[1]:t||void 0}getMemberName(){return this.memberName}isMemberSchema(){return this._isMemberSchema}isListSchema(){let e=this.getSchema();return typeof e==`number`?e>=64&&e<128:e[0]===1}isMapSchema(){let e=this.getSchema();return typeof e==`number`?e>=128&&e<=255:e[0]===2}isStructSchema(){let e=this.getSchema();return e[0]===3||e[0]===-3}isBlobSchema(){let e=this.getSchema();return e===21||e===42}isTimestampSchema(){let e=this.getSchema();return typeof e==`number`&&e>=4&&e<=7}isUnitSchema(){return this.getSchema()===`unit`}isDocumentSchema(){return this.getSchema()===15}isStringSchema(){return this.getSchema()===0}isBooleanSchema(){return this.getSchema()===2}isNumericSchema(){return this.getSchema()===1}isBigIntegerSchema(){return this.getSchema()===17}isBigDecimalSchema(){return this.getSchema()===19}isStreaming(){let{streaming:e}=this.getMergedTraits();return!!e||this.getSchema()===42}isIdempotencyToken(){let e=e=>(e&4)==4||!!e?.idempotencyToken,{normalizedTraits:t,traits:n,memberTraits:r}=this;return e(t)||e(n)||e(r)}getMergedTraits(){return this.normalizedTraits??={...this.getOwnTraits(),...this.getMemberTraits()}}getMemberTraits(){return w(this.memberTraits)}getOwnTraits(){return w(this.traits)}getKeySchema(){let[e,t]=[this.isDocumentSchema(),this.isMapSchema()];if(!e&&!t)throw Error(`@smithy/core/schema - cannot get key for non-map: ${this.getName(!0)}`);let n=this.getSchema();return Ye([e?15:n[4]??0,0],`key`)}getValueSchema(){let e=this.getSchema(),[t,n,r]=[this.isDocumentSchema(),this.isMapSchema(),this.isListSchema()],i=typeof e==`number`?63&e:e&&typeof e==`object`&&(n||r)?e[3+e[0]]:t?15:void 0;if(i!=null)return Ye([i,0],n?`value`:`member`);throw Error(`@smithy/core/schema - ${this.getName(!0)} has no value member.`)}getMemberSchema(e){let t=this.getSchema();if(this.isStructSchema()&&t[4].includes(e)){let n=t[4].indexOf(e),r=t[5][n];return Ye(Xe(r)?r:[r,0],e)}if(this.isDocumentSchema())return Ye([15,0],e);throw Error(`@smithy/core/schema - ${this.getName(!0)} has no no member=${e}.`)}getMemberSchemas(){let e={};try{for(let[t,n]of this.structIterator())e[t]=n}catch{}return e}getEventStreamMember(){if(this.isStructSchema()){for(let[e,t]of this.structIterator())if(t.isStreaming()&&t.isStructSchema())return e}return``}*structIterator(){if(this.isUnitSchema())return;if(!this.isStructSchema())throw Error(`@smithy/core/schema - cannot iterate non-struct schema.`);let e=this.getSchema();for(let t=0;t<e[4].length;++t)yield[e[4][t],Ye([e[5][t],0],e[4][t])]}};function Ye(e,t){return e instanceof T?Object.assign(e,{memberName:t,_isMemberSchema:!0}):new T(e,t)}const Xe=e=>Array.isArray(e)&&e.length===2,Ze=e=>Array.isArray(e)&&e.length>=5;var E=class e{namespace;schemas;exceptions;static registries=new Map;constructor(e,t=new Map,n=new Map){this.namespace=e,this.schemas=t,this.exceptions=n}static for(t){return e.registries.has(t)||e.registries.set(t,new e(t)),e.registries.get(t)}register(t,n){let r=this.normalizeShapeId(t);e.for(r.split(`#`)[0]).schemas.set(r,n)}getSchema(e){let t=this.normalizeShapeId(e);if(!this.schemas.has(t))throw Error(`@smithy/core/schema - schema not found for ${t}`);return this.schemas.get(t)}registerError(t,n){let r=t,i=e.for(r[1]);i.schemas.set(r[1]+`#`+r[2],r),i.exceptions.set(r,n)}getErrorCtor(t){let n=t;return e.for(n[1]).exceptions.get(n)}getBaseException(){for(let e of this.exceptions.keys())if(Array.isArray(e)){let[,t,n]=e,r=t+`#`+n;if(r.startsWith(`smithy.ts.sdk.synthetic.`)&&r.endsWith(`ServiceException`))return e}}find(e){return[...this.schemas.values()].find(e)}clear(){this.schemas.clear(),this.exceptions.clear()}normalizeShapeId(e){return e.includes(`#`)?e:this.namespace+`#`+e}};const Qe=[`Sun`,`Mon`,`Tue`,`Wed`,`Thu`,`Fri`,`Sat`],$e=[`Jan`,`Feb`,`Mar`,`Apr`,`May`,`Jun`,`Jul`,`Aug`,`Sep`,`Oct`,`Nov`,`Dec`];function et(e){let t=e.getUTCFullYear(),n=e.getUTCMonth(),r=e.getUTCDay(),i=e.getUTCDate(),a=e.getUTCHours(),o=e.getUTCMinutes(),s=e.getUTCSeconds(),c=i<10?`0${i}`:`${i}`,l=a<10?`0${a}`:`${a}`,u=o<10?`0${o}`:`${o}`,d=s<10?`0${s}`:`${s}`;return`${Qe[r]}, ${c} ${$e[n]} ${t} ${l}:${u}:${d} GMT`}const tt=typeof crypto<`u`&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),D=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,`0`)),nt=()=>{if(tt)return tt();let e=new Uint8Array(16);return crypto.getRandomValues(e),e[6]=e[6]&15|64,e[8]=e[8]&63|128,D[e[0]]+D[e[1]]+D[e[2]]+D[e[3]]+`-`+D[e[4]]+D[e[5]]+`-`+D[e[6]]+D[e[7]]+`-`+D[e[8]]+D[e[9]]+`-`+D[e[10]]+D[e[11]]+D[e[12]]+D[e[13]]+D[e[14]]+D[e[15]]},O=function(e){return Object.assign(new String(e),{deserializeJSON(){return JSON.parse(String(e))},toString(){return String(e)},toJSON(){return String(e)}})};O.from=e=>e&&typeof e==`object`&&(e instanceof O||`deserializeJSON`in e)?e:typeof e==`string`||Object.getPrototypeOf(e)===String.prototype?O(String(e)):O(JSON.stringify(e)),O.fromObject=O.from;const rt=`(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun)(?:[ne|u?r]?s?day)?`,it=`(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)`,at=`(\\d?\\d):(\\d{2}):(\\d{2})(?:\\.(\\d+))?`,ot=`(\\d?\\d)`,st=`(\\d{4})`,ct=new RegExp(/^(\d{4})-(\d\d)-(\d\d)[tT](\d\d):(\d\d):(\d\d)(\.(\d+))?(([-+]\d\d:\d\d)|[zZ])$/),lt=RegExp(`^${rt}, ${ot} ${it} ${st} ${at} GMT$`),ut=RegExp(`^${rt}, ${ot}-${it}-(\\d\\d) ${at} GMT$`),dt=RegExp(`^${rt} ${it} ( [1-9]|\\d\\d) ${at} ${st}$`),ft=[`Jan`,`Feb`,`Mar`,`Apr`,`May`,`Jun`,`Jul`,`Aug`,`Sep`,`Oct`,`Nov`,`Dec`],pt=e=>{if(e==null)return;let t=NaN;if(typeof e==`number`)t=e;else if(typeof e==`string`){if(!/^-?\d*\.?\d+$/.test(e))throw TypeError(`parseEpochTimestamp - numeric string invalid.`);t=Number.parseFloat(e)}else typeof e==`object`&&e.tag===1&&(t=e.value);if(isNaN(t)||Math.abs(t)===1/0)throw TypeError(`Epoch timestamps must be valid finite numbers.`);return new Date(Math.round(t*1e3))},mt=e=>{if(e==null)return;if(typeof e!=`string`)throw TypeError(`RFC3339 timestamps must be strings`);let t=ct.exec(e);if(!t)throw TypeError(`Invalid RFC3339 timestamp format ${e}`);let[,n,r,i,a,o,s,,c,l]=t;k(r,1,12),k(i,1,31),k(a,0,23),k(o,0,59),k(s,0,60);let u=new Date(Date.UTC(Number(n),Number(r)-1,Number(i),Number(a),Number(o),Number(s),Number(c)?Math.round(parseFloat(`0.${c}`)*1e3):0));if(u.setUTCFullYear(Number(n)),l.toUpperCase()!=`Z`){let[,e,t,n]=/([+-])(\d\d):(\d\d)/.exec(l)||[void 0,`+`,0,0],r=e===`-`?1:-1;u.setTime(u.getTime()+r*(Number(t)*60*60*1e3+Number(n)*60*1e3))}return u},ht=e=>{if(e==null)return;if(typeof e!=`string`)throw TypeError(`RFC7231 timestamps must be strings.`);let t,n,r,i,a,o,s,c;if((c=lt.exec(e))?[,t,n,r,i,a,o,s]=c:(c=ut.exec(e))?([,t,n,r,i,a,o,s]=c,r=(Number(r)+1900).toString()):(c=dt.exec(e))&&([,n,t,i,a,o,s,r]=c),r&&o){let e=Date.UTC(Number(r),ft.indexOf(n),Number(t),Number(i),Number(a),Number(o),s?Math.round(parseFloat(`0.${s}`)*1e3):0);k(t,1,31),k(i,0,23),k(a,0,59),k(o,0,60);let c=new Date(e);return c.setUTCFullYear(Number(r)),c}throw TypeError(`Invalid RFC7231 date-time value ${e}.`)};function k(e,t,n){let r=Number(e);if(r<t||r>n)throw Error(`Value ${r} out of range [${t}, ${n}]`)}const gt=e=>{let t=e.length,n=[],r=!1,i,a=0;for(let o=0;o<t;++o){let t=e[o];switch(t){case`"`:i!==`\\`&&(r=!r);break;case`,`:r||(n.push(e.slice(a,o)),a=o+1);break;default:}i=t}return n.push(e.slice(a)),n.map(e=>{e=e.trim();let t=e.length;return t<2?e:(e[0]===`"`&&e[t-1]===`"`&&(e=e.slice(1,t-1)),e.replace(/\\"/g,`"`))})},_t=/^-?\d*(\.\d+)?$/;var vt=class e{string;type;constructor(e,t){if(this.string=e,this.type=t,!_t.test(e))throw Error(`@smithy/core/serde - NumericValue must only contain [0-9], at most one decimal point ".", and an optional negation prefix "-".`)}toString(){return this.string}static[Symbol.hasInstance](t){if(!t||typeof t!=`object`)return!1;let n=t;return e.prototype.isPrototypeOf(t)||n.type===`bigDecimal`&&_t.test(n.string)}},yt=class{serdeContext;setSerdeContext(e){this.serdeContext=e}},bt,xt=t((()=>{x(),bt=class{marshaller;serializer;deserializer;serdeContext;defaultContentType;constructor({marshaller:e,serializer:t,deserializer:n,serdeContext:r,defaultContentType:i}){this.marshaller=e,this.serializer=t,this.deserializer=n,this.serdeContext=r,this.defaultContentType=i}async serializeEventStream({eventStream:e,requestSchema:t,initialRequest:n}){let r=this.marshaller,i=t.getEventStreamMember(),a=t.getMemberSchema(i),o=this.serializer,s=this.defaultContentType,c=Symbol(`initialRequestMarker`),l={async*[Symbol.asyncIterator](){if(n){let e={":event-type":{type:`string`,value:`initial-request`},":message-type":{type:`string`,value:`event`},":content-type":{type:`string`,value:s}};o.write(t,n);let r=o.flush();yield{[c]:!0,headers:e,body:r}}for await(let t of e)yield t}};return r.serialize(l,e=>{if(e[c])return{headers:e.headers,body:e.body};let t=Object.keys(e).find(e=>e!==`__type`)??``,{additionalHeaders:n,body:r,eventType:i,explicitPayloadContentType:o}=this.writeEventBody(t,a,e);return{headers:{":event-type":{type:`string`,value:i},":message-type":{type:`string`,value:`event`},":content-type":{type:`string`,value:o??s},...n},body:r}})}async deserializeEventStream({response:e,responseSchema:t,initialResponseContainer:n}){let r=this.marshaller,i=t.getEventStreamMember(),a=t.getMemberSchema(i).getMemberSchemas(),o=Symbol(`initialResponseMarker`),s=r.deserialize(e.body,async e=>{let n=Object.keys(e).find(e=>e!==`__type`)??``,r=e[n].body;if(n===`initial-response`){let e=await this.deserializer.read(t,r);return delete e[i],{[o]:!0,...e}}else if(n in a){let t=a[n];if(t.isStructSchema()){let i={},a=!1;for(let[o,s]of t.structIterator()){let{eventHeader:t,eventPayload:c}=s.getMergedTraits();if(a||=!!(t||c),c)s.isBlobSchema()?i[o]=r:s.isStringSchema()?i[o]=(this.serdeContext?.utf8Encoder??b)(r):s.isStructSchema()&&(i[o]=await this.deserializer.read(s,r));else if(t){let t=e[n].headers[o]?.value;t!=null&&(s.isNumericSchema()?t&&typeof t==`object`&&`bytes`in t?i[o]=BigInt(t.toString()):i[o]=Number(t):i[o]=t)}}if(a)return{[n]:i}}return{[n]:await this.deserializer.read(t,r)}}else return{$unknown:e}}),c=s[Symbol.asyncIterator](),l=await c.next();if(l.done)return s;if(l.value?.[o]){if(!t)throw Error(`@smithy::core/protocols - initial-response event encountered in event stream but no response schema given.`);for(let[e,t]of Object.entries(l.value))n[e]=t}return{async*[Symbol.asyncIterator](){for(l?.value?.[o]||(yield l.value);;){let{done:e,value:t}=await c.next();if(e)break;yield t}}}}writeEventBody(e,t,n){let r=this.serializer,i=e,a=null,o,s=(()=>t.getSchema()[4].includes(e))(),c={};if(s){let i=t.getMemberSchema(e);if(i.isStructSchema()){for(let[t,r]of i.structIterator()){let{eventHeader:i,eventPayload:o}=r.getMergedTraits();if(o)a=t;else if(i){let i=n[e][t],a=`binary`;r.isNumericSchema()?a=(-2)**31<=i&&i<=2**31-1?`integer`:`long`:r.isTimestampSchema()?a=`timestamp`:r.isStringSchema()?a=`string`:r.isBooleanSchema()&&(a=`boolean`),i!=null&&(c[t]={type:a,value:i},delete n[e][t])}}if(a!==null){let t=i.getMemberSchema(a);t.isBlobSchema()?o=`application/octet-stream`:t.isStringSchema()&&(o=`text/plain`),r.write(t,n[e][a])}else r.write(i,n[e])}else throw Error(`@smithy/core/event-streams - non-struct member not supported in event stream union.`)}else{let[t,a]=n[e];i=t,r.write(15,a)}let l=r.flush();return{body:typeof l==`string`?(this.serdeContext?.utf8Decoder??v)(l):l,eventType:i,explicitPayloadContentType:o,additionalHeaders:c}}}})),St=n({EventStreamSerde:()=>bt}),Ct=t((()=>{xt()})),wt=class extends yt{options;constructor(e){super(),this.options=e}getRequestType(){return c}getResponseType(){return u}setSerdeContext(e){this.serdeContext=e,this.serializer.setSerdeContext(e),this.deserializer.setSerdeContext(e),this.getPayloadCodec()&&this.getPayloadCodec().setSerdeContext(e)}updateServiceEndpoint(e,t){if(`url`in t){e.protocol=t.url.protocol,e.hostname=t.url.hostname,e.port=t.url.port?Number(t.url.port):void 0,e.path=t.url.pathname,e.fragment=t.url.hash||void 0,e.username=t.url.username||void 0,e.password=t.url.password||void 0,e.query||={};for(let[n,r]of t.url.searchParams.entries())e.query[n]=r;return e}else return e.protocol=t.protocol,e.hostname=t.hostname,e.port=t.port?Number(t.port):void 0,e.path=t.path,e.query={...t.query},e}setHostPrefix(e,t,n){let r=T.of(t.input),i=w(t.traits??{});if(i.endpoint){let t=i.endpoint?.[0];if(typeof t==`string`){let i=[...r.structIterator()].filter(([,e])=>e.getMergedTraits().hostLabel);for(let[e]of i){let r=n[e];if(typeof r!=`string`)throw Error(`@smithy/core/schema - ${e} in input must be a string as hostLabel.`);t=t.replace(`{${e}}`,r)}e.hostname=t+e.hostname}}}deserializeMetadata(e){return{httpStatusCode:e.statusCode,requestId:e.headers[`x-amzn-requestid`]??e.headers[`x-amzn-request-id`]??e.headers[`x-amz-request-id`],extendedRequestId:e.headers[`x-amz-id-2`],cfId:e.headers[`x-amz-cf-id`]}}async serializeEventStream({eventStream:e,requestSchema:t,initialRequest:n}){return(await this.loadEventStreamCapability()).serializeEventStream({eventStream:e,requestSchema:t,initialRequest:n})}async deserializeEventStream({response:e,responseSchema:t,initialResponseContainer:n}){return(await this.loadEventStreamCapability()).deserializeEventStream({response:e,responseSchema:t,initialResponseContainer:n})}async loadEventStreamCapability(){let{EventStreamSerde:e}=await Promise.resolve().then(()=>(Ct(),St));return new e({marshaller:this.getEventStreamMarshaller(),serializer:this.serializer,deserializer:this.deserializer,serdeContext:this.serdeContext,defaultContentType:this.getDefaultContentType()})}getDefaultContentType(){throw Error(`@smithy/core/protocols - ${this.constructor.name} getDefaultContentType() implementation missing.`)}async deserializeHttpMessage(e,t,n,r,i){return[]}getEventStreamMarshaller(){let e=this.serdeContext;if(!e.eventStreamMarshaller)throw Error(`@smithy/core - HttpProtocol: eventStreamMarshaller missing in serdeContext.`);return e.eventStreamMarshaller}},Tt=class extends wt{async serializeRequest(e,t,n){let r=this.serializer,i={},a={},o=await n.endpoint(),s=T.of(e?.input),l=s.getSchema(),u,d=new c({protocol:``,hostname:``,port:void 0,path:`/`,fragment:void 0,query:i,headers:a,body:void 0});o&&(this.updateServiceEndpoint(d,o),this.setHostPrefix(d,e,t));let f={...t};if(t){let e=s.getEventStreamMember();if(e){if(f[e]){let t={};for(let[n,i]of s.structIterator())n!==e&&f[n]&&(r.write(i,f[n]),t[n]=r.flush());u=await this.serializeEventStream({eventStream:f[e],requestSchema:s,initialRequest:t})}}else r.write(l,f),u=r.flush()}return d.headers=a,d.query=i,d.body=u,d.method=`POST`,d}async deserializeResponse(e,t,n){let r=this.deserializer,i=T.of(e.output),a={};if(n.statusCode>=300){let i=await ze(n.body,t);throw i.byteLength>0&&Object.assign(a,await r.read(15,i)),await this.handleError(e,t,n,a,this.deserializeMetadata(n)),Error(`@smithy/core/protocols - RPC Protocol error handler failed to throw.`)}for(let e in n.headers){let t=n.headers[e];delete n.headers[e],n.headers[e.toLowerCase()]=t}let o=i.getEventStreamMember();if(o)a[o]=await this.deserializeEventStream({response:n,responseSchema:i,initialResponseContainer:a});else{let e=await ze(n.body,t);e.byteLength>0&&Object.assign(a,await r.read(i,e))}return a.$metadata=this.deserializeMetadata(n),a}};function Et(e,t){if(t.timestampFormat.useTrait&&e.isTimestampSchema()&&(e.getSchema()===5||e.getSchema()===6||e.getSchema()===7))return e.getSchema();let{httpLabel:n,httpPrefixHeaders:r,httpHeader:i,httpQuery:a}=e.getMergedTraits();return(t.httpBindings?typeof r==`string`||i?6:a||n?5:void 0:void 0)??t.timestampFormat.default}x();var Dt=class extends yt{settings;constructor(e){super(),this.settings=e}read(e,t){let n=T.of(e);if(n.isListSchema())return gt(t).map(e=>this.read(n.getValueSchema(),e));if(n.isBlobSchema())return(this.serdeContext?.base64Decoder??be)(t);if(n.isTimestampSchema())switch(Et(n,this.settings)){case 5:return mt(t);case 6:return ht(t);case 7:return pt(t);default:return console.warn(`Missing timestamp format, parsing value with Date constructor:`,t),new Date(t)}if(n.isStringSchema()){let e=n.getMergedTraits().mediaType,r=t;if(e)return n.getMergedTraits().httpHeader&&(r=this.base64ToUtf8(r)),(e===`application/json`||e.endsWith(`+json`))&&(r=O.from(r)),r}return n.isNumericSchema()?Number(t):n.isBigIntegerSchema()?BigInt(t):n.isBigDecimalSchema()?new vt(t,`bigDecimal`):n.isBooleanSchema()?String(t).toLowerCase()===`true`:t}base64ToUtf8(e){return(this.serdeContext?.utf8Encoder??b)((this.serdeContext?.base64Decoder??be)(e))}};function Ot(e,t,n){e.__smithy_context?e.__smithy_context.features||(e.__smithy_context.features={}):e.__smithy_context={features:{}},e.__smithy_context.features[t]=n}var kt=class{authSchemes=new Map;constructor(e){for(let[t,n]of Object.entries(e))n!==void 0&&this.authSchemes.set(t,n)}getIdentityProvider(e){return this.authSchemes.get(e)}},At=class{async sign(e,t,n){return e}};const jt=(e=>function(t){return Mt(t)&&t.expiration.getTime()-Date.now()<e})(3e5),Mt=e=>e.expiration!==void 0,Nt=(e,t,n)=>{if(e===void 0)return;let r=typeof e==`function`?e:async()=>Promise.resolve(e),i,a,o,s=!1,c=async e=>{a||=r(e);try{i=await a,o=!0,s=!1}finally{a=void 0}return i};return t===void 0?async e=>((!o||e?.forceRefresh)&&(i=await c(e)),i):async e=>((!o||e?.forceRefresh)&&(i=await c(e)),s?i:n(i)?(t(i)&&await c(e),i):(s=!0,i))};function Pt(e){return e===void 0?!0:typeof e==`string`&&e.length<=50}function Ft(e){let t=ge(e.userAgentAppId??void 0),{customUserAgent:n}=e;return Object.assign(e,{customUserAgent:typeof n==`string`?[[n]]:n,userAgentAppId:async()=>{let n=await t();if(!Pt(n)){let t=e.logger?.constructor?.name===`NoOpLogger`||!e.logger?console:e.logger;typeof n==`string`?n.length>50&&t?.warn(`The provided userAgentAppId exceeds the maximum length of 50 characters.`):t?.warn(`userAgentAppId must be a string or undefined.`)}return n}})}var It=class{capacity;data=new Map;parameters=[];constructor({size:e,params:t}){this.capacity=e??50,t&&(this.parameters=t)}get(e,t){let n=this.hash(e);if(n===!1)return t();if(!this.data.has(n)){if(this.data.size>this.capacity+10){let e=this.data.keys(),t=0;for(;;){let{value:n,done:r}=e.next();if(this.data.delete(n),r||++t>10)break}}this.data.set(n,t())}return this.data.get(n)}size(){return this.data.size}hash(e){let t=``,{parameters:n}=this;if(n.length===0)return!1;for(let r of n){let n=String(e[r]??``);if(n.includes(`|;`))return!1;t+=n+`|;`}return t}};const Lt=RegExp(`^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$`),Rt=e=>Lt.test(e)||e.startsWith(`[`)&&e.endsWith(`]`),zt=RegExp(`^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$`),Bt=(e,t=!1)=>{if(!t)return zt.test(e);let n=e.split(`.`);for(let e of n)if(!Bt(e))return!1;return!0},Vt={},A=`endpoints`;function j(e){return typeof e!=`object`||!e?e:`ref`in e?`$${j(e.ref)}`:`fn`in e?`${e.fn}(${(e.argv||[]).map(j).join(`, `)})`:JSON.stringify(e,null,2)}var M=class extends Error{constructor(e){super(e),this.name=`EndpointError`}};const Ht=(e,t)=>e===t,Ut=e=>{let t=e.split(`.`),n=[];for(let r of t){let t=r.indexOf(`[`);if(t!==-1){if(r.indexOf(`]`)!==r.length-1)throw new M(`Path: '${e}' does not end with ']'`);let i=r.slice(t+1,-1);if(Number.isNaN(parseInt(i)))throw new M(`Invalid array index: '${i}' in path: '${e}'`);t!==0&&n.push(r.slice(0,t)),n.push(i)}else n.push(r)}return n},Wt=(e,t)=>Ut(t).reduce((n,r)=>{if(typeof n!=`object`)throw new M(`Index '${r}' in '${t}' not found in '${JSON.stringify(e)}'`);return Array.isArray(n)?n[parseInt(r)]:n[r]},e),Gt=e=>e!=null,Kt=e=>!e,qt={[a.HTTP]:80,[a.HTTPS]:443},Jt={booleanEquals:Ht,getAttr:Wt,isSet:Gt,isValidHostLabel:Bt,not:Kt,parseURL:e=>{let t=(()=>{try{if(e instanceof URL)return e;if(typeof e==`object`&&`hostname`in e){let{hostname:t,port:n,protocol:r=``,path:i=``,query:a={}}=e,o=new URL(`${r}//${t}${n?`:${n}`:``}${i}`);return o.search=Object.entries(a).map(([e,t])=>`${e}=${t}`).join(`&`),o}return new URL(e)}catch{return null}})();if(!t)return console.error(`Unable to parse ${JSON.stringify(e)} as a whatwg URL.`),null;let n=t.href,{host:r,hostname:i,pathname:o,protocol:s,search:c}=t;if(c)return null;let l=s.slice(0,-1);if(!Object.values(a).includes(l))return null;let u=Rt(i);return{scheme:l,authority:`${r}${n.includes(`${r}:${qt[l]}`)||typeof e==`string`&&e.includes(`${r}:${qt[l]}`)?`:${qt[l]}`:``}`,path:o,normalizedPath:o.endsWith(`/`)?o:`${o}/`,isIp:u}},stringEquals:(e,t)=>e===t,substring:(e,t,n,r)=>t>=n||e.length<n?null:r?e.substring(e.length-n,e.length-t):e.substring(t,n),uriEncode:e=>encodeURIComponent(e).replace(/[!*'()]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`)},Yt=(e,t)=>{let n=[],r={...t.endpointParams,...t.referenceRecord},i=0;for(;i<e.length;){let t=e.indexOf(`{`,i);if(t===-1){n.push(e.slice(i));break}n.push(e.slice(i,t));let a=e.indexOf(`}`,t);if(a===-1){n.push(e.slice(t));break}e[t+1]===`{`&&e[a+1]===`}`&&(n.push(e.slice(t+1,a)),i=a+2);let o=e.substring(t+1,a);if(o.includes(`#`)){let[e,t]=o.split(`#`);n.push(Wt(r[e],t))}else n.push(r[o]);i=a+1}return n.join(``)},Xt=({ref:e},t)=>({...t.endpointParams,...t.referenceRecord})[e],Zt=(e,t,n)=>{if(typeof e==`string`)return Yt(e,n);if(e.fn)return $t.callFunction(e,n);if(e.ref)return Xt(e,n);throw new M(`'${t}': ${String(e)} is not a string, function or reference.`)},Qt=({fn:e,argv:t},n)=>{let r=t.map(e=>[`boolean`,`number`].includes(typeof e)?e:$t.evaluateExpression(e,`arg`,n)),i=e.split(`.`);return i[0]in Vt&&i[1]!=null?Vt[i[0]][i[1]](...r):Jt[e](...r)},$t={evaluateExpression:Zt,callFunction:Qt},en=({assign:e,...t},n)=>{if(e&&e in n.referenceRecord)throw new M(`'${e}' is already defined in Reference Record.`);let r=Qt(t,n);return n.logger?.debug?.(`${A} evaluateCondition: ${j(t)} = ${j(r)}`),{result:r===``?!0:!!r,...e!=null&&{toAssign:{name:e,value:r}}}},tn=(e=[],t)=>{let n={};for(let r of e){let{result:e,toAssign:i}=en(r,{...t,referenceRecord:{...t.referenceRecord,...n}});if(!e)return{result:e};i&&(n[i.name]=i.value,t.logger?.debug?.(`${A} assign: ${i.name} := ${j(i.value)}`))}return{result:!0,referenceRecord:n}},nn=(e,t)=>Object.entries(e).reduce((e,[n,r])=>({...e,[n]:r.map(e=>{let r=Zt(e,`Header value entry`,t);if(typeof r!=`string`)throw new M(`Header '${n}' value '${r}' is not a string`);return r})}),{}),rn=(e,t)=>Object.entries(e).reduce((e,[n,r])=>({...e,[n]:on.getEndpointProperty(r,t)}),{}),an=(e,t)=>{if(Array.isArray(e))return e.map(e=>an(e,t));switch(typeof e){case`string`:return Yt(e,t);case`object`:if(e===null)throw new M(`Unexpected endpoint property: ${e}`);return on.getEndpointProperties(e,t);case`boolean`:return e;default:throw new M(`Unexpected endpoint property type: ${typeof e}`)}},on={getEndpointProperty:an,getEndpointProperties:rn},sn=(e,t)=>{let n=Zt(e,`Endpoint URL`,t);if(typeof n==`string`)try{return new URL(n)}catch(e){throw console.error(`Failed to construct URL with ${n}`,e),e}throw new M(`Endpoint URL must be a string, got ${typeof n}`)},cn=(e,t)=>{let{conditions:n,endpoint:r}=e,{result:i,referenceRecord:a}=tn(n,t);if(!i)return;let o={...t,referenceRecord:{...t.referenceRecord,...a}},{url:s,properties:c,headers:l}=r;return t.logger?.debug?.(`${A} Resolving endpoint from template: ${j(r)}`),{...l!=null&&{headers:nn(l,o)},...c!=null&&{properties:rn(c,o)},url:sn(s,o)}},ln=(e,t)=>{let{conditions:n,error:r}=e,{result:i,referenceRecord:a}=tn(n,t);if(i)throw new M(Zt(r,`Error`,{...t,referenceRecord:{...t.referenceRecord,...a}}))},un=(e,t)=>{for(let n of e)if(n.type===`endpoint`){let e=cn(n,t);if(e)return e}else if(n.type===`error`)ln(n,t);else if(n.type===`tree`){let e=dn.evaluateTreeRule(n,t);if(e)return e}else throw new M(`Unknown endpoint rule: ${n}`);throw new M(`Rules evaluation failed`)},dn={evaluateRules:un,evaluateTreeRule:(e,t)=>{let{conditions:n,rules:r}=e,{result:i,referenceRecord:a}=tn(n,t);if(i)return dn.evaluateRules(r,{...t,referenceRecord:{...t.referenceRecord,...a}})}},fn=(e,t)=>{let{endpointParams:n,logger:r}=t,{parameters:i,rules:a}=e;t.logger?.debug?.(`${A} Initial EndpointParams: ${j(n)}`);let o=Object.entries(i).filter(([,e])=>e.default!=null).map(([e,t])=>[e,t.default]);if(o.length>0)for(let[e,t]of o)n[e]=n[e]??t;let s=Object.entries(i).filter(([,e])=>e.required).map(([e])=>e);for(let e of s)if(n[e]==null)throw new M(`Missing required parameter: '${e}'`);let c=un(a,{endpointParams:n,logger:r,referenceRecord:{}});return t.logger?.debug?.(`${A} Resolved endpoint: ${j(c)}`),c},pn=(e,t=!1)=>{if(t){for(let t of e.split(`.`))if(!pn(t))return!1;return!0}return!(!Bt(e)||e.length<3||e.length>63||e!==e.toLowerCase()||Rt(e))},mn=e=>{let t=e.split(`:`);if(t.length<6)return null;let[n,r,i,a,o,...s]=t;return n!==`arn`||r===``||i===``||s.join(`:`)===``?null:{partition:r,service:i,region:a,accountId:o,resourceId:s.map(e=>e.split(`/`)).flat()}};let hn={partitions:[{id:`aws`,outputs:{dnsSuffix:`amazonaws.com`,dualStackDnsSuffix:`api.aws`,implicitGlobalRegion:`us-east-1`,name:`aws`,supportsDualStack:!0,supportsFIPS:!0},regionRegex:`^(us|eu|ap|sa|ca|me|af|il|mx)\\-\\w+\\-\\d+$`,regions:{"af-south-1":{description:`Africa (Cape Town)`},"ap-east-1":{description:`Asia Pacific (Hong Kong)`},"ap-east-2":{description:`Asia Pacific (Taipei)`},"ap-northeast-1":{description:`Asia Pacific (Tokyo)`},"ap-northeast-2":{description:`Asia Pacific (Seoul)`},"ap-northeast-3":{description:`Asia Pacific (Osaka)`},"ap-south-1":{description:`Asia Pacific (Mumbai)`},"ap-south-2":{description:`Asia Pacific (Hyderabad)`},"ap-southeast-1":{description:`Asia Pacific (Singapore)`},"ap-southeast-2":{description:`Asia Pacific (Sydney)`},"ap-southeast-3":{description:`Asia Pacific (Jakarta)`},"ap-southeast-4":{description:`Asia Pacific (Melbourne)`},"ap-southeast-5":{description:`Asia Pacific (Malaysia)`},"ap-southeast-6":{description:`Asia Pacific (New Zealand)`},"ap-southeast-7":{description:`Asia Pacific (Thailand)`},"aws-global":{description:`aws global region`},"ca-central-1":{description:`Canada (Central)`},"ca-west-1":{description:`Canada West (Calgary)`},"eu-central-1":{description:`Europe (Frankfurt)`},"eu-central-2":{description:`Europe (Zurich)`},"eu-north-1":{description:`Europe (Stockholm)`},"eu-south-1":{description:`Europe (Milan)`},"eu-south-2":{description:`Europe (Spain)`},"eu-west-1":{description:`Europe (Ireland)`},"eu-west-2":{description:`Europe (London)`},"eu-west-3":{description:`Europe (Paris)`},"il-central-1":{description:`Israel (Tel Aviv)`},"me-central-1":{description:`Middle East (UAE)`},"me-south-1":{description:`Middle East (Bahrain)`},"mx-central-1":{description:`Mexico (Central)`},"sa-east-1":{description:`South America (Sao Paulo)`},"us-east-1":{description:`US East (N. Virginia)`},"us-east-2":{description:`US East (Ohio)`},"us-west-1":{description:`US West (N. California)`},"us-west-2":{description:`US West (Oregon)`}}},{id:`aws-cn`,outputs:{dnsSuffix:`amazonaws.com.cn`,dualStackDnsSuffix:`api.amazonwebservices.com.cn`,implicitGlobalRegion:`cn-northwest-1`,name:`aws-cn`,supportsDualStack:!0,supportsFIPS:!0},regionRegex:`^cn\\-\\w+\\-\\d+$`,regions:{"aws-cn-global":{description:`aws-cn global region`},"cn-north-1":{description:`China (Beijing)`},"cn-northwest-1":{description:`China (Ningxia)`}}},{id:`aws-eusc`,outputs:{dnsSuffix:`amazonaws.eu`,dualStackDnsSuffix:`api.amazonwebservices.eu`,implicitGlobalRegion:`eusc-de-east-1`,name:`aws-eusc`,supportsDualStack:!0,supportsFIPS:!0},regionRegex:`^eusc\\-(de)\\-\\w+\\-\\d+$`,regions:{"eusc-de-east-1":{description:`EU (Germany)`}}},{id:`aws-iso`,outputs:{dnsSuffix:`c2s.ic.gov`,dualStackDnsSuffix:`api.aws.ic.gov`,implicitGlobalRegion:`us-iso-east-1`,name:`aws-iso`,supportsDualStack:!0,supportsFIPS:!0},regionRegex:`^us\\-iso\\-\\w+\\-\\d+$`,regions:{"aws-iso-global":{description:`aws-iso global region`},"us-iso-east-1":{description:`US ISO East`},"us-iso-west-1":{description:`US ISO WEST`}}},{id:`aws-iso-b`,outputs:{dnsSuffix:`sc2s.sgov.gov`,dualStackDnsSuffix:`api.aws.scloud`,implicitGlobalRegion:`us-isob-east-1`,name:`aws-iso-b`,supportsDualStack:!0,supportsFIPS:!0},regionRegex:`^us\\-isob\\-\\w+\\-\\d+$`,regions:{"aws-iso-b-global":{description:`aws-iso-b global region`},"us-isob-east-1":{description:`US ISOB East (Ohio)`},"us-isob-west-1":{description:`US ISOB West`}}},{id:`aws-iso-e`,outputs:{dnsSuffix:`cloud.adc-e.uk`,dualStackDnsSuffix:`api.cloud-aws.adc-e.uk`,implicitGlobalRegion:`eu-isoe-west-1`,name:`aws-iso-e`,supportsDualStack:!0,supportsFIPS:!0},regionRegex:`^eu\\-isoe\\-\\w+\\-\\d+$`,regions:{"aws-iso-e-global":{description:`aws-iso-e global region`},"eu-isoe-west-1":{description:`EU ISOE West`}}},{id:`aws-iso-f`,outputs:{dnsSuffix:`csp.hci.ic.gov`,dualStackDnsSuffix:`api.aws.hci.ic.gov`,implicitGlobalRegion:`us-isof-south-1`,name:`aws-iso-f`,supportsDualStack:!0,supportsFIPS:!0},regionRegex:`^us\\-isof\\-\\w+\\-\\d+$`,regions:{"aws-iso-f-global":{description:`aws-iso-f global region`},"us-isof-east-1":{description:`US ISOF EAST`},"us-isof-south-1":{description:`US ISOF SOUTH`}}},{id:`aws-us-gov`,outputs:{dnsSuffix:`amazonaws.com`,dualStackDnsSuffix:`api.aws`,implicitGlobalRegion:`us-gov-west-1`,name:`aws-us-gov`,supportsDualStack:!0,supportsFIPS:!0},regionRegex:`^us\\-gov\\-\\w+\\-\\d+$`,regions:{"aws-us-gov-global":{description:`aws-us-gov global region`},"us-gov-east-1":{description:`AWS GovCloud (US-East)`},"us-gov-west-1":{description:`AWS GovCloud (US-West)`}}}],version:`1.1`};const gn=e=>{let{partitions:t}=hn;for(let n of t){let{regions:t,outputs:r}=n;for(let[n,i]of Object.entries(t))if(n===e)return{...r,...i}}for(let n of t){let{regionRegex:t,outputs:r}=n;if(new RegExp(t).test(e))return{...r}}let n=t.find(e=>e.id===`aws`);if(!n)throw Error(`Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.`);return{...n.outputs}},_n=()=>``,vn={isVirtualHostableS3Bucket:pn,parseArn:mn,partition:gn};Vt.aws=vn;function yn(e){let t={};if(e=e.replace(/^\?/,``),e)for(let n of e.split(`&`)){let[e,r=null]=n.split(`=`);e=decodeURIComponent(e),r&&=decodeURIComponent(r),e in t?Array.isArray(t[e])?t[e].push(r):t[e]=[t[e],r]:t[e]=r}return t}const bn=e=>{if(typeof e==`string`)return bn(new URL(e));let{hostname:t,pathname:n,port:r,protocol:i,search:a}=e,o;return a&&(o=yn(a)),{hostname:t,port:r?parseInt(r):void 0,protocol:i,path:n,query:o}};function xn(e,t,n){return e.$source||={},e.$source[t]=n,e}function N(e,t,n){e.__aws_sdk_context?e.__aws_sdk_context.features||(e.__aws_sdk_context.features={}):e.__aws_sdk_context={features:{}},e.__aws_sdk_context.features[t]=n}const Sn=e=>u.isInstance(e)?e.headers?.date??e.headers?.Date:void 0,Cn=e=>new Date(Date.now()+e),wn=(e,t)=>Math.abs(Cn(t).getTime()-e)>=3e5,Tn=(e,t)=>{let n=Date.parse(e);return wn(n,t)?n-Date.now():t},En=(e,t)=>{if(!t)throw Error(`Property \`${e}\` is not resolved for AWS SDK SigV4Auth`);return t},Dn=async e=>{let t=En(`context`,e.context),n=En(`config`,e.config),r=t.endpointV2?.properties?.authSchemes?.[0];return{config:n,signer:await En(`signer`,n.signer)(r),signingRegion:e?.signingRegion,signingRegionSet:e?.signingRegionSet,signingName:e?.signingName}};var On=class{async sign(e,t,n){if(!c.isInstance(e))throw Error("The request is not an instance of `HttpRequest` and cannot be signed");let r=await Dn(n),{config:i,signer:a}=r,{signingRegion:o,signingName:s}=r,l=n.context;if(l?.authSchemes?.length??!1){let[e,t]=l.authSchemes;e?.name===`sigv4a`&&t?.name===`sigv4`&&(o=t?.signingRegion??o,s=t?.signingName??s)}return await a.sign(e,{signingDate:Cn(i.systemClockOffset),signingRegion:o,signingService:s})}errorHandler(e){return t=>{let n=t.ServerTime??Sn(t.$response);if(n){let r=En(`config`,e.config),i=r.systemClockOffset;r.systemClockOffset=Tn(n,r.systemClockOffset),r.systemClockOffset!==i&&t.$metadata&&(t.$metadata.clockSkewCorrected=!0)}throw t}}successHandler(e,t){let n=Sn(e);if(n){let e=En(`config`,t.config);e.systemClockOffset=Tn(n,e.systemClockOffset)}}};const kn=(e,t,n)=>{let r,i,a,o=!1,s=async()=>{i||=e();try{r=await i,a=!0,o=!1}finally{i=void 0}return r};return t===void 0?async e=>((!a||e?.forceRefresh)&&(r=await s()),r):async e=>((!a||e?.forceRefresh)&&(r=await s()),o?r:n&&!n(r)?(o=!0,r):(t(r)&&await s(),r))},An=`authorization`,jn=`x-amz-date`,Mn=[An,jn,`date`],Nn=`x-amz-content-sha256`,Pn={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},Fn=/^proxy-/,In=/^sec-/,Ln=`AWS4-HMAC-SHA256`,Rn=`aws4_request`;x();const zn={},Bn=[],Vn=(e,t,n)=>`${e}/${t}/${n}/${Rn}`,Hn=async(e,t,n,r,i)=>{let a=`${n}:${r}:${i}:${C(await Un(e,t.secretAccessKey,t.accessKeyId))}:${t.sessionToken}`;if(a in zn)return zn[a];for(Bn.push(a);Bn.length>50;)delete zn[Bn.shift()];let o=`AWS4${t.secretAccessKey}`;for(let t of[n,r,i,Rn])o=await Un(e,o,t);return zn[a]=o},Un=(e,t,n)=>{let r=new e(t);return r.update(y(n)),r.digest()},Wn=({headers:e},t,n)=>{let r={};for(let i of Object.keys(e).sort()){if(e[i]==null)continue;let a=i.toLowerCase();(a in Pn||t?.has(a)||Fn.test(a)||In.test(a))&&(!n||n&&!n.has(a))||(r[a]=e[i].trim().replace(/\s+/g,` `))}return r},Gn=e=>typeof ArrayBuffer==`function`&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)===`[object ArrayBuffer]`;x();const Kn=async({headers:e,body:t},n)=>{for(let t of Object.keys(e))if(t.toLowerCase()===Nn)return e[t];if(t==null)return`e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855`;if(typeof t==`string`||ArrayBuffer.isView(t)||Gn(t)){let e=new n;return e.update(y(t)),C(await e.digest())}return`UNSIGNED-PAYLOAD`};x();var qn=class{format(e){let t=[];for(let n of Object.keys(e)){let r=v(n);t.push(Uint8Array.from([r.byteLength]),r,this.formatHeaderValue(e[n]))}let n=new Uint8Array(t.reduce((e,t)=>e+t.byteLength,0)),r=0;for(let e of t)n.set(e,r),r+=e.byteLength;return n}formatHeaderValue(e){switch(e.type){case`boolean`:return Uint8Array.from([e.value?0:1]);case`byte`:return Uint8Array.from([2,e.value]);case`short`:let t=new DataView(new ArrayBuffer(3));return t.setUint8(0,3),t.setInt16(1,e.value,!1),new Uint8Array(t.buffer);case`integer`:let n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,e.value,!1),new Uint8Array(n.buffer);case`long`:let r=new Uint8Array(9);return r[0]=5,r.set(e.value.bytes,1),r;case`binary`:let i=new DataView(new ArrayBuffer(3+e.value.byteLength));i.setUint8(0,6),i.setUint16(1,e.value.byteLength,!1);let a=new Uint8Array(i.buffer);return a.set(e.value,3),a;case`string`:let o=v(e.value),s=new DataView(new ArrayBuffer(3+o.byteLength));s.setUint8(0,7),s.setUint16(1,o.byteLength,!1);let c=new Uint8Array(s.buffer);return c.set(o,3),c;case`timestamp`:let l=new Uint8Array(9);return l[0]=8,l.set(Xn.fromNumber(e.value.valueOf()).bytes,1),l;case`uuid`:if(!Yn.test(e.value))throw Error(`Invalid UUID received: ${e.value}`);let u=new Uint8Array(17);return u[0]=9,u.set(Re(e.value.replace(/\-/g,``)),1),u}}},Jn;(function(e){e[e.boolTrue=0]=`boolTrue`,e[e.boolFalse=1]=`boolFalse`,e[e.byte=2]=`byte`,e[e.short=3]=`short`,e[e.integer=4]=`integer`,e[e.long=5]=`long`,e[e.byteArray=6]=`byteArray`,e[e.string=7]=`string`,e[e.timestamp=8]=`timestamp`,e[e.uuid=9]=`uuid`})(Jn||={});const Yn=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/;var Xn=class e{bytes;constructor(e){if(this.bytes=e,e.byteLength!==8)throw Error(`Int64 buffers must be exactly 8 bytes`)}static fromNumber(t){if(t>0x8000000000000000||t<-0x8000000000000000)throw Error(`${t} is too large (or, if negative, too small) to represent as an Int64`);let n=new Uint8Array(8);for(let e=7,r=Math.abs(Math.round(t));e>-1&&r>0;e--,r/=256)n[e]=r;return t<0&&Zn(n),new e(n)}valueOf(){let e=this.bytes.slice(0),t=e[0]&128;return t&&Zn(e),parseInt(C(e),16)*(t?-1:1)}toString(){return String(this.valueOf())}};function Zn(e){for(let t=0;t<8;t++)e[t]^=255;for(let t=7;t>-1&&(e[t]++,e[t]===0);t--);}const Qn=(e,t)=>{e=e.toLowerCase();for(let n of Object.keys(t))if(e===n.toLowerCase())return!0;return!1},$n=(e,t={})=>{let{headers:n,query:r={}}=c.clone(e);for(let e of Object.keys(n)){let i=e.toLowerCase();(i.slice(0,6)===`x-amz-`&&!t.unhoistableHeaders?.has(i)||t.hoistableHeaders?.has(i))&&(r[e]=n[e],delete n[e])}return{...e,headers:n,query:r}},er=e=>{e=c.clone(e);for(let t of Object.keys(e.headers))Mn.indexOf(t.toLowerCase())>-1&&delete e.headers[t];return e},tr=({query:e={}})=>{let t=[],n={};for(let r of Object.keys(e)){if(r.toLowerCase()===`x-amz-signature`)continue;let i=S(r);t.push(i);let a=e[r];typeof a==`string`?n[i]=`${i}=${S(a)}`:Array.isArray(a)&&(n[i]=a.slice(0).reduce((e,t)=>e.concat([`${i}=${S(t)}`]),[]).sort().join(`&`))}return t.sort().map(e=>n[e]).filter(e=>e).join(`&`)},nr=e=>rr(e).toISOString().replace(/\.\d{3}Z$/,`Z`),rr=e=>typeof e==`number`?new Date(e*1e3):typeof e==`string`?Number(e)?new Date(Number(e)*1e3):new Date(e):e;x();var ir=class{service;regionProvider;credentialProvider;sha256;uriEscapePath;applyChecksum;constructor({applyChecksum:e,credentials:t,region:n,service:r,sha256:i,uriEscapePath:a=!0}){this.service=r,this.sha256=i,this.uriEscapePath=a,this.applyChecksum=typeof e==`boolean`?e:!0,this.regionProvider=_(n),this.credentialProvider=_(t)}createCanonicalRequest(e,t,n){let r=Object.keys(t).sort();return`${e.method}
${this.getCanonicalPath(e)}
${tr(e)}
${r.map(e=>`${e}:${t[e]}`).join(`
`)}

${r.join(`;`)}
${n}`}async createStringToSign(e,t,n,r){let i=new this.sha256;return i.update(y(n)),`${r}
${e}
${t}
${C(await i.digest())}`}getCanonicalPath({path:e}){if(this.uriEscapePath){let t=[];for(let n of e.split(`/`))n?.length!==0&&n!==`.`&&(n===`..`?t.pop():t.push(n));return S(`${e?.startsWith(`/`)?`/`:``}${t.join(`/`)}${t.length>0&&e?.endsWith(`/`)?`/`:``}`).replace(/%2F/g,`/`)}return e}validateResolvedCredentials(e){if(typeof e!=`object`||typeof e.accessKeyId!=`string`||typeof e.secretAccessKey!=`string`)throw Error(`Resolved credential object is not valid`)}formatDate(e){let t=nr(e).replace(/[\-:]/g,``);return{longDate:t,shortDate:t.slice(0,8)}}getCanonicalHeaderList(e){return Object.keys(e).sort().join(`;`)}};x();var ar=class extends ir{headerFormatter=new qn;constructor({applyChecksum:e,credentials:t,region:n,service:r,sha256:i,uriEscapePath:a=!0}){super({applyChecksum:e,credentials:t,region:n,service:r,sha256:i,uriEscapePath:a})}async presign(e,t={}){let{signingDate:n=new Date,expiresIn:r=3600,unsignableHeaders:i,unhoistableHeaders:a,signableHeaders:o,hoistableHeaders:s,signingRegion:c,signingService:l}=t,u=await this.credentialProvider();this.validateResolvedCredentials(u);let d=c??await this.regionProvider(),{longDate:f,shortDate:p}=this.formatDate(n);if(r>604800)return Promise.reject(`Signature version 4 presigned URLs must have an expiration date less than one week in the future`);let m=Vn(p,d,l??this.service),h=$n(er(e),{unhoistableHeaders:a,hoistableHeaders:s});u.sessionToken&&(h.query[`X-Amz-Security-Token`]=u.sessionToken),h.query[`X-Amz-Algorithm`]=Ln,h.query[`X-Amz-Credential`]=`${u.accessKeyId}/${m}`,h.query[`X-Amz-Date`]=f,h.query[`X-Amz-Expires`]=r.toString(10);let ee=Wn(h,i,o);return h.query[`X-Amz-SignedHeaders`]=this.getCanonicalHeaderList(ee),h.query[`X-Amz-Signature`]=await this.getSignature(f,m,this.getSigningKey(u,d,p,l),this.createCanonicalRequest(h,ee,await Kn(e,this.sha256))),h}async sign(e,t){return typeof e==`string`?this.signString(e,t):e.headers&&e.payload?this.signEvent(e,t):e.message?this.signMessage(e,t):this.signRequest(e,t)}async signEvent({headers:e,payload:t},{signingDate:n=new Date,priorSignature:r,signingRegion:i,signingService:a}){let o=i??await this.regionProvider(),{shortDate:s,longDate:c}=this.formatDate(n),l=Vn(s,o,a??this.service),u=await Kn({headers:{},body:t},this.sha256),d=new this.sha256;d.update(e);let f=[`AWS4-HMAC-SHA256-PAYLOAD`,c,l,r,C(await d.digest()),u].join(`
`);return this.signString(f,{signingDate:n,signingRegion:o,signingService:a})}async signMessage(e,{signingDate:t=new Date,signingRegion:n,signingService:r}){return this.signEvent({headers:this.headerFormatter.format(e.message.headers),payload:e.message.body},{signingDate:t,signingRegion:n,signingService:r,priorSignature:e.priorSignature}).then(t=>({message:e.message,signature:t}))}async signString(e,{signingDate:t=new Date,signingRegion:n,signingService:r}={}){let i=await this.credentialProvider();this.validateResolvedCredentials(i);let a=n??await this.regionProvider(),{shortDate:o}=this.formatDate(t),s=new this.sha256(await this.getSigningKey(i,a,o,r));return s.update(y(e)),C(await s.digest())}async signRequest(e,{signingDate:t=new Date,signableHeaders:n,unsignableHeaders:r,signingRegion:i,signingService:a}={}){let o=await this.credentialProvider();this.validateResolvedCredentials(o);let s=i??await this.regionProvider(),c=er(e),{longDate:l,shortDate:u}=this.formatDate(t),d=Vn(u,s,a??this.service);c.headers[jn]=l,o.sessionToken&&(c.headers[`x-amz-security-token`]=o.sessionToken);let f=await Kn(c,this.sha256);!Qn(Nn,c.headers)&&this.applyChecksum&&(c.headers[Nn]=f);let p=Wn(c,r,n),m=await this.getSignature(l,d,this.getSigningKey(o,s,u,a),this.createCanonicalRequest(c,p,f));return c.headers[An]=`${Ln} Credential=${o.accessKeyId}/${d}, SignedHeaders=${this.getCanonicalHeaderList(p)}, Signature=${m}`,c}async getSignature(e,t,n,r){let i=await this.createStringToSign(e,t,r,Ln),a=new this.sha256(await n);return a.update(y(i)),C(await a.digest())}getSigningKey(e,t,n,r){return Hn(this.sha256,e,n,t,r||this.service)}};const or=e=>{let t=e.credentials,n=!!e.credentials,r;Object.defineProperty(e,`credentials`,{set(i){i&&i!==t&&i!==r&&(n=!0),t=i;let a=cr(e,sr(e,{credentials:t,credentialDefaultProvider:e.credentialDefaultProvider}));n&&!a.attributed?(r=async e=>a(e).then(e=>xn(e,`CREDENTIALS_CODE`,`e`)),r.memoized=a.memoized,r.configBound=a.configBound,r.attributed=!0):r=a},get(){return r},enumerable:!0,configurable:!0}),e.credentials=t;let{signingEscapePath:i=!0,systemClockOffset:a=e.systemClockOffset||0,sha256:o}=e,s;return s=e.signer?ge(e.signer):e.regionInfoProvider?()=>ge(e.region)().then(async t=>[await e.regionInfoProvider(t,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},t]).then(([t,n])=>{let{signingRegion:r,signingService:a}=t;e.signingRegion=e.signingRegion||r||n,e.signingName=e.signingName||a||e.serviceId;let s={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:o,uriEscapePath:i};return new(e.signerConstructor||ar)(s)}):async t=>{t=Object.assign({},{name:`sigv4`,signingName:e.signingName||e.defaultSigningName,signingRegion:await ge(e.region)(),properties:{}},t);let n=t.signingRegion,r=t.signingName;e.signingRegion=e.signingRegion||n,e.signingName=e.signingName||r||e.serviceId;let a={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:o,uriEscapePath:i};return new(e.signerConstructor||ar)(a)},Object.assign(e,{systemClockOffset:a,signingEscapePath:i,signer:s})};function sr(e,{credentials:t,credentialDefaultProvider:n}){let r;return r=t?t?.memoized?t:Nt(t,jt,Mt):n?ge(n(Object.assign({},e,{parentClientConfig:e}))):async()=>{throw Error("@aws-sdk/core::resolveAwsSdkSigV4Config - `credentials` not provided and no credentialDefaultProvider was configured.")},r.memoized=!0,r}function cr(e,t){if(t.configBound)return t;let n=async n=>t({...n,callerClientConfig:e});return n.memoized=t.memoized,n.configBound=!0,n}const lr=typeof TextEncoder==`function`?new TextEncoder:null,ur=e=>{if(typeof e==`string`){if(lr)return lr.encode(e).byteLength;let t=e.length;for(let n=t-1;n>=0;n--){let r=e.charCodeAt(n);r>127&&r<=2047?t++:r>2047&&r<=65535&&(t+=2),r>=56320&&r<=57343&&n--}return t}else if(typeof e.byteLength==`number`)return e.byteLength;else if(typeof e.size==`number`)return e.size;throw Error(`Body Length computation failed for ${e}`)},P=(e,t)=>{let n=[];if(e&&n.push(e),t)for(let e of t)n.push(e);return n},F=(e,t)=>`${e||`anonymous`}${t&&t.length>0?` (a.k.a. ${t.join(`,`)})`:``}`,dr=()=>{let e=[],t=[],n=!1,r=new Set,i=e=>e.sort((e,t)=>fr[t.step]-fr[e.step]||pr[t.priority||`normal`]-pr[e.priority||`normal`]),a=n=>{let i=!1,a=e=>{let t=P(e.name,e.aliases);if(t.includes(n)){i=!0;for(let e of t)r.delete(e);return!1}return!0};return e=e.filter(a),t=t.filter(a),i},o=n=>{let i=!1,a=e=>{if(e.middleware===n){i=!0;for(let t of P(e.name,e.aliases))r.delete(t);return!1}return!0};return e=e.filter(a),t=t.filter(a),i},s=n=>(e.forEach(e=>{n.add(e.middleware,{...e})}),t.forEach(e=>{n.addRelativeTo(e.middleware,{...e})}),n.identifyOnResolve?.(u.identifyOnResolve()),n),c=e=>{let t=[];return e.before.forEach(e=>{e.before.length===0&&e.after.length===0?t.push(e):t.push(...c(e))}),t.push(e),e.after.reverse().forEach(e=>{e.before.length===0&&e.after.length===0?t.push(e):t.push(...c(e))}),t},l=(n=!1)=>{let r=[],a=[],o={};return e.forEach(e=>{let t={...e,before:[],after:[]};for(let e of P(t.name,t.aliases))o[e]=t;r.push(t)}),t.forEach(e=>{let t={...e,before:[],after:[]};for(let e of P(t.name,t.aliases))o[e]=t;a.push(t)}),a.forEach(e=>{if(e.toMiddleware){let t=o[e.toMiddleware];if(t===void 0){if(n)return;throw Error(`${e.toMiddleware} is not found when adding ${F(e.name,e.aliases)} middleware ${e.relation} ${e.toMiddleware}`)}e.relation===`after`&&t.after.push(e),e.relation===`before`&&t.before.push(e)}}),i(r).map(c).reduce((e,t)=>(e.push(...t),e),[])},u={add:(t,n={})=>{let{name:i,override:a,aliases:o}=n,s={step:`initialize`,priority:`normal`,middleware:t,...n},c=P(i,o);if(c.length>0){if(c.some(e=>r.has(e))){if(!a)throw Error(`Duplicate middleware name '${F(i,o)}'`);for(let t of c){let n=e.findIndex(e=>e.name===t||e.aliases?.some(e=>e===t));if(n===-1)continue;let r=e[n];if(r.step!==s.step||s.priority!==r.priority)throw Error(`"${F(r.name,r.aliases)}" middleware with ${r.priority} priority in ${r.step} step cannot be overridden by "${F(i,o)}" middleware with ${s.priority} priority in ${s.step} step.`);e.splice(n,1)}}for(let e of c)r.add(e)}e.push(s)},addRelativeTo:(e,n)=>{let{name:i,override:a,aliases:o}=n,s={middleware:e,...n},c=P(i,o);if(c.length>0){if(c.some(e=>r.has(e))){if(!a)throw Error(`Duplicate middleware name '${F(i,o)}'`);for(let e of c){let n=t.findIndex(t=>t.name===e||t.aliases?.some(t=>t===e));if(n===-1)continue;let r=t[n];if(r.toMiddleware!==s.toMiddleware||r.relation!==s.relation)throw Error(`"${F(r.name,r.aliases)}" middleware ${r.relation} "${r.toMiddleware}" middleware cannot be overridden by "${F(i,o)}" middleware ${s.relation} "${s.toMiddleware}" middleware.`);t.splice(n,1)}}for(let e of c)r.add(e)}t.push(s)},clone:()=>s(dr()),use:e=>{e.applyToStack(u)},remove:e=>typeof e==`string`?a(e):o(e),removeByTag:n=>{let i=!1,a=e=>{let{tags:t,name:a,aliases:o}=e;if(t&&t.includes(n)){let e=P(a,o);for(let t of e)r.delete(t);return i=!0,!1}return!0};return e=e.filter(a),t=t.filter(a),i},concat:e=>{let t=s(dr());return t.use(e),t.identifyOnResolve(n||t.identifyOnResolve()||(e.identifyOnResolve?.()??!1)),t},applyToStack:s,identify:()=>l(!0).map(e=>{let t=e.step??e.relation+` `+e.toMiddleware;return F(e.name,e.aliases)+` - `+t}),identifyOnResolve(e){return typeof e==`boolean`&&(n=e),n},resolve:(e,t)=>{for(let n of l().map(e=>e.middleware).reverse())e=n(e,t);return n&&console.log(u.identify()),e}};return u},fr={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},pr={high:3,normal:2,low:1};var mr=class{config;middlewareStack=dr();initConfig;handlers;constructor(e){this.config=e}send(e,t,n){let r=typeof t==`function`?void 0:t,i=typeof t==`function`?t:n,a=r===void 0&&this.config.cacheMiddleware===!0,o;if(a){this.handlers||=new WeakMap;let t=this.handlers;t.has(e.constructor)?o=t.get(e.constructor):(o=e.resolveMiddleware(this.middlewareStack,this.config,r),t.set(e.constructor,o))}else delete this.handlers,o=e.resolveMiddleware(this.middlewareStack,this.config,r);if(i)o(e).then(e=>i(null,e.output),e=>i(e)).catch(()=>{});else return o(e).then(e=>e.output)}destroy(){this.config?.requestHandler?.destroy?.(),delete this.handlers}};const hr=`***SensitiveInformation***`;function gr(e,t){if(t==null)return t;let n=T.of(e);if(n.getMergedTraits().sensitive)return hr;if(n.isListSchema()){if(n.getValueSchema().getMergedTraits().sensitive)return hr}else if(n.isMapSchema()){if(n.getKeySchema().getMergedTraits().sensitive||n.getValueSchema().getMergedTraits().sensitive)return hr}else if(n.isStructSchema()&&typeof t==`object`){let e=t,r={};for(let[t,i]of n.structIterator())e[t]!=null&&(r[t]=gr(i,e[t]));return r}return t}var _r=class{middlewareStack=dr();schema;static classBuilder(){return new vr}resolveMiddlewareWithContext(e,t,n,{middlewareFn:r,clientName:i,commandName:a,inputFilterSensitiveLog:o,outputFilterSensitiveLog:c,smithyContext:l,additionalContext:u,CommandCtor:d}){for(let i of r.bind(this)(d,e,t,n))this.middlewareStack.use(i);let f=e.concat(this.middlewareStack),{logger:p}=t,m={logger:p,clientName:i,commandName:a,inputFilterSensitiveLog:o,outputFilterSensitiveLog:c,[s]:{commandInstance:this,...l},...u},{requestHandler:h}=t;return f.resolve(e=>h.handle(e.request,n||{}),m)}},vr=class{_init=()=>{};_ep={};_middlewareFn=()=>[];_commandName=``;_clientName=``;_additionalContext={};_smithyContext={};_inputFilterSensitiveLog=void 0;_outputFilterSensitiveLog=void 0;_serializer=null;_deserializer=null;_operationSchema;init(e){this._init=e}ep(e){return this._ep=e,this}m(e){return this._middlewareFn=e,this}s(e,t,n={}){return this._smithyContext={service:e,operation:t,...n},this}c(e={}){return this._additionalContext=e,this}n(e,t){return this._clientName=e,this._commandName=t,this}f(e=e=>e,t=e=>e){return this._inputFilterSensitiveLog=e,this._outputFilterSensitiveLog=t,this}ser(e){return this._serializer=e,this}de(e){return this._deserializer=e,this}sc(e){return this._operationSchema=e,this._smithyContext.operationSchema=e,this}build(){let e=this,t;return t=class extends _r{input;static getEndpointParameterInstructions(){return e._ep}constructor(...[t]){super(),this.input=t??{},e._init(this),this.schema=e._operationSchema}resolveMiddleware(n,r,i){let a=e._operationSchema,o=a?.[4]??a?.input,s=a?.[5]??a?.output;return this.resolveMiddlewareWithContext(n,r,i,{CommandCtor:t,middlewareFn:e._middlewareFn,clientName:e._clientName,commandName:e._commandName,inputFilterSensitiveLog:e._inputFilterSensitiveLog??(a?gr.bind(null,o):e=>e),outputFilterSensitiveLog:e._outputFilterSensitiveLog??(a?gr.bind(null,s):e=>e),smithyContext:e._smithyContext,additionalContext:e._additionalContext})}serialize=e._serializer;deserialize=e._deserializer}}},yr=class e extends Error{$fault;$response;$retryable;$metadata;constructor(e){super(e.message),Object.setPrototypeOf(this,Object.getPrototypeOf(this).constructor.prototype),this.name=e.name,this.$fault=e.$fault,this.$metadata=e.$metadata}static isInstance(t){if(!t)return!1;let n=t;return e.prototype.isPrototypeOf(n)||!!n.$fault&&!!n.$metadata&&(n.$fault===`client`||n.$fault===`server`)}static[Symbol.hasInstance](t){if(!t)return!1;let n=t;return this===e?e.isInstance(t):e.isInstance(t)?n.name&&this.name?this.prototype.isPrototypeOf(t)||n.name===this.name:this.prototype.isPrototypeOf(t):!1}};const br=(e,t={})=>(Object.entries(t).filter(([,e])=>e!==void 0).forEach(([t,n])=>{(e[t]==null||e[t]===``)&&(e[t]=n)}),e.message=e.message||e.Message||`UnknownError`,delete e.Message,e),xr=e=>{switch(e){case`standard`:return{retryMode:`standard`,connectionTimeout:3100};case`in-region`:return{retryMode:`standard`,connectionTimeout:1100};case`cross-region`:return{retryMode:`standard`,connectionTimeout:3100};case`mobile`:return{retryMode:`standard`,connectionTimeout:3e4};default:return{}}},Sr=e=>{let t=[];for(let n in o){let r=o[n];e[r]!==void 0&&t.push({algorithmId:()=>r,checksumConstructor:()=>e[r]})}return{addChecksumAlgorithm(e){t.push(e)},checksumAlgorithms(){return t}}},Cr=e=>{let t={};return e.checksumAlgorithms().forEach(e=>{t[e.algorithmId()]=e.checksumConstructor()}),t},wr=e=>({setRetryStrategy(t){e.retryStrategy=t},retryStrategy(){return e.retryStrategy}}),Tr=e=>{let t={};return t.retryStrategy=e.retryStrategy(),t},Er=e=>Object.assign(Sr(e),wr(e)),Dr=e=>Object.assign(Cr(e),Tr(e)),Or=e=>{let t=`#text`;for(let n in e)e.hasOwnProperty(n)&&e[n][t]!==void 0?e[n]=e[n][t]:typeof e[n]==`object`&&e[n]!==null&&(e[n]=Or(e[n]));return e};var kr=class{trace(){}debug(){}info(){}warn(){}error(){}},Ar=class{queryCompat;constructor(e=!1){this.queryCompat=e}resolveRestContentType(e,t){let n=t.getMemberSchemas(),r=Object.values(n).find(e=>!!e.getMergedTraits().httpPayload);if(r)return r.getMergedTraits().mediaType||(r.isStringSchema()?`text/plain`:r.isBlobSchema()?`application/octet-stream`:e);if(!t.isUnitSchema()&&Object.values(n).find(e=>{let{httpQuery:t,httpQueryParams:n,httpHeader:r,httpLabel:i,httpPrefixHeaders:a}=e.getMergedTraits();return!t&&!n&&!r&&!i&&a===void 0}))return e}async getErrorSchemaOrThrowBaseException(e,t,n,r,i,a){let o=t,s=e;e.includes(`#`)&&([o,s]=e.split(`#`));let c={$metadata:i,$fault:n.statusCode<500?`client`:`server`},l=E.for(o);try{return{errorSchema:a?.(l,s)??l.getSchema(e),errorMetadata:c}}catch{r.message=r.message??r.Message??`UnknownError`;let e=E.for(`smithy.ts.sdk.synthetic.`+o),t=e.getBaseException();if(t){let n=e.getErrorCtor(t)??Error;throw this.decorateServiceException(Object.assign(new n({name:s}),c),r)}throw this.decorateServiceException(Object.assign(Error(s),c),r)}}decorateServiceException(e,t={}){if(this.queryCompat){let n=e.Message??t.Message,r=br(e,t);n&&(r.message=n),r.Error={...r.Error,Type:r.Error.Type,Code:r.Error.Code,Message:r.Error.message??r.Error.Message??n};let i=r.$metadata.requestId;return i&&(r.RequestId=i),r}return br(e,t)}setQueryCompatError(e,t){let n=t.headers?.[`x-amzn-query-error`];if(e!==void 0&&n!=null){let[t,r]=n.split(`;`),i=Object.entries(e),a={Code:t,Type:r};Object.assign(e,a);for(let[e,t]of i)a[e===`message`?`Message`:e]=t;delete a.__type,e.Error=a}}queryCompatOutput(e,t){e.Error&&(t.Error=e.Error),e.Type&&(t.Type=e.Type),e.Code&&(t.Code=e.Code)}findQueryCompatibleError(e,t){try{return e.getSchema(t)}catch{return e.find(e=>T.of(e).getMergedTraits().awsQueryError?.[0]===t)}}},jr=class{serdeContext;setSerdeContext(e){this.serdeContext=e}};function*Mr(e,t){if(e.isUnitSchema())return;let n=e.getSchema();for(let e=0;e<n[4].length;++e){let r=n[4][e],i=n[5][e],a=new T([i,0],r);!(r in t)&&!a.isIdempotencyToken()||(yield[r,a])}}let Nr;function Pr(e){Nr||=new DOMParser;let t=Nr.parseFromString(e,`application/xml`);if(t.getElementsByTagName(`parsererror`).length>0)throw Error(`DOMParser XML parsing error.`);let n=e=>{if(e.nodeType===Node.TEXT_NODE&&e.textContent?.trim())return e.textContent;if(e.nodeType===Node.ELEMENT_NODE){let t=e;if(t.attributes.length===0&&t.childNodes.length===0)return``;let r={},i=Array.from(t.attributes);for(let e of i)r[`${e.name}`]=e.value;let a=Array.from(t.childNodes);for(let e of a){let o=n(e);if(o!=null){let t=e.nodeName;if(a.length===1&&i.length===0&&t===`#text`)return o;r[t]?Array.isArray(r[t])?r[t].push(o):r[t]=[r[t],o]:r[t]=o}else if(a.length===1&&i.length===0)return t.textContent}return r}return null};return{[t.documentElement.nodeName]:n(t.documentElement)}}x();var Fr=class extends jr{settings;stringDeserializer;constructor(e){super(),this.settings=e,this.stringDeserializer=new Dt(e)}setSerdeContext(e){this.serdeContext=e,this.stringDeserializer.setSerdeContext(e)}read(e,t,n){let r=T.of(e),i=r.getMemberSchemas();if(r.isStructSchema()&&r.isMemberSchema()&&Object.values(i).find(e=>!!e.getMemberTraits().eventPayload)){let e={},n=Object.keys(i)[0];return i[n].isBlobSchema()?e[n]=t:e[n]=this.read(i[n],t),e}let a=(this.serdeContext?.utf8Encoder??b)(t),o=this.parseXml(a);return this.readSchema(e,n?o[n]:o)}readSchema(e,t){let n=T.of(e);if(n.isUnitSchema())return;let r=n.getMergedTraits();if(n.isListSchema()&&!Array.isArray(t))return this.readSchema(n,[t]);if(t==null)return t;if(typeof t==`object`){let e=!!r.sparse,i=!!r.xmlFlattened;if(n.isListSchema()){let r=n.getValueSchema(),a=[],o=r.getMergedTraits().xmlName??`member`,s=i?t:(t[0]??t)[o],c=Array.isArray(s)?s:[s];for(let t of c)(t!=null||e)&&a.push(this.readSchema(r,t));return a}let a={};if(n.isMapSchema()){let r=n.getKeySchema(),o=n.getValueSchema(),s;s=i?Array.isArray(t)?t:[t]:Array.isArray(t.entry)?t.entry:[t.entry];let c=r.getMergedTraits().xmlName??`key`,l=o.getMergedTraits().xmlName??`value`;for(let t of s){let n=t[c],r=t[l];(r!=null||e)&&(a[n]=this.readSchema(o,r))}return a}if(n.isStructSchema()){for(let[e,r]of n.structIterator()){let n=r.getMergedTraits(),i=n.httpPayload?n.xmlName??r.getName():r.getMemberTraits().xmlName??e;t[i]!=null&&(a[e]=this.readSchema(r,t[i]))}return a}if(n.isDocumentSchema())return t;throw Error(`@aws-sdk/core/protocols - xml deserializer unhandled schema type for ${n.getName(!0)}`)}return n.isListSchema()?[]:n.isMapSchema()||n.isStructSchema()?{}:this.stringDeserializer.read(n,t)}parseXml(e){if(e.length){let t;try{t=Pr(e)}catch(t){throw t&&typeof t==`object`&&Object.defineProperty(t,`$responseBodyText`,{value:e}),t}let n=`#text`,r=Object.keys(t)[0],i=t[r];return i[n]&&(i[r]=i[n],delete i[n]),Or(i)}return{}}},Ir=class extends jr{settings;buffer;constructor(e){super(),this.settings=e}write(e,t,n=``){this.buffer===void 0&&(this.buffer=``);let r=T.of(e);if(n&&!n.endsWith(`.`)&&(n+=`.`),r.isBlobSchema())(typeof t==`string`||t instanceof Uint8Array)&&(this.writeKey(n),this.writeValue((this.serdeContext?.base64Encoder??we)(t)));else if(r.isBooleanSchema()||r.isNumericSchema()||r.isStringSchema())t==null?r.isIdempotencyToken()&&(this.writeKey(n),this.writeValue(nt())):(this.writeKey(n),this.writeValue(String(t)));else if(r.isBigIntegerSchema())t!=null&&(this.writeKey(n),this.writeValue(String(t)));else if(r.isBigDecimalSchema())t!=null&&(this.writeKey(n),this.writeValue(t instanceof vt?t.string:String(t)));else if(r.isTimestampSchema()){if(t instanceof Date)switch(this.writeKey(n),Et(r,this.settings)){case 5:this.writeValue(t.toISOString().replace(`.000Z`,`Z`));break;case 6:this.writeValue(et(t));break;case 7:this.writeValue(String(t.getTime()/1e3));break}}else if(r.isDocumentSchema())throw Error(`@aws-sdk/core/protocols - QuerySerializer unsupported document type ${r.getName(!0)}`);else if(r.isListSchema()){if(Array.isArray(t))if(t.length===0)this.settings.serializeEmptyLists&&(this.writeKey(n),this.writeValue(``));else{let e=r.getValueSchema(),i=this.settings.flattenLists||r.getMergedTraits().xmlFlattened,a=1;for(let r of t){if(r==null)continue;let t=this.getKey(`member`,e.getMergedTraits().xmlName),o=i?`${n}${a}`:`${n}${t}.${a}`;this.write(e,r,o),++a}}}else if(r.isMapSchema()){if(t&&typeof t==`object`){let e=r.getKeySchema(),i=r.getValueSchema(),a=r.getMergedTraits().xmlFlattened,o=1;for(let[r,s]of Object.entries(t)){if(s==null)continue;let t=this.getKey(`key`,e.getMergedTraits().xmlName),c=a?`${n}${o}.${t}`:`${n}entry.${o}.${t}`,l=this.getKey(`value`,i.getMergedTraits().xmlName),u=a?`${n}${o}.${l}`:`${n}entry.${o}.${l}`;this.write(e,r,c),this.write(i,s,u),++o}}}else if(r.isStructSchema()){if(t&&typeof t==`object`)for(let[e,i]of Mr(r,t)){if(t[e]==null&&!i.isIdempotencyToken())continue;let r=this.getKey(e,i.getMergedTraits().xmlName),a=`${n}${r}`;this.write(i,t[e],a)}}else if(!r.isUnitSchema())throw Error(`@aws-sdk/core/protocols - QuerySerializer unrecognized schema type ${r.getName(!0)}`)}flush(){if(this.buffer===void 0)throw Error(`@aws-sdk/core/protocols - QuerySerializer cannot flush with nothing written to buffer.`);let e=this.buffer;return delete this.buffer,e}getKey(e,t){let n=t??e;return this.settings.capitalizeKeys?n[0].toUpperCase()+n.slice(1):n}writeKey(e){e.endsWith(`.`)&&(e=e.slice(0,e.length-1)),this.buffer+=`&${Be(e)}=`}writeValue(e){this.buffer+=Be(e)}},Lr=class extends Tt{options;serializer;deserializer;mixin=new Ar;constructor(e){super({defaultNamespace:e.defaultNamespace}),this.options=e;let t={timestampFormat:{useTrait:!0,default:5},httpBindings:!1,xmlNamespace:e.xmlNamespace,serviceNamespace:e.defaultNamespace,serializeEmptyLists:!0};this.serializer=new Ir(t),this.deserializer=new Fr(t)}getShapeId(){return`aws.protocols#awsQuery`}setSerdeContext(e){this.serializer.setSerdeContext(e),this.deserializer.setSerdeContext(e)}getPayloadCodec(){throw Error(`AWSQuery protocol has no payload codec.`)}async serializeRequest(e,t,n){let r=await super.serializeRequest(e,t,n);return r.path.endsWith(`/`)||(r.path+=`/`),Object.assign(r.headers,{"content-type":`application/x-www-form-urlencoded`}),(Ve(e.input)===`unit`||!r.body)&&(r.body=``),r.body=`Action=${e.name.split(`#`)[1]??e.name}&Version=${this.options.version}`+r.body,r.body.endsWith(`&`)&&(r.body=r.body.slice(-1)),r}async deserializeResponse(e,t,n){let r=this.deserializer,i=T.of(e.output),a={};if(n.statusCode>=300){let i=await ze(n.body,t);i.byteLength>0&&Object.assign(a,await r.read(15,i)),await this.handleError(e,t,n,a,this.deserializeMetadata(n))}for(let e in n.headers){let t=n.headers[e];delete n.headers[e],n.headers[e.toLowerCase()]=t}let o=e.name.split(`#`)[1]??e.name,s=i.isStructSchema()&&this.useNestedResult()?o+`Result`:void 0,c=await ze(n.body,t);return c.byteLength>0&&Object.assign(a,await r.read(i,c,s)),{$metadata:this.deserializeMetadata(n),...a}}useNestedResult(){return!0}async handleError(e,t,n,r,i){let a=this.loadQueryErrorCode(n,r)??`Unknown`,o=this.loadQueryError(r),s=this.loadQueryErrorMessage(r);o.message=s,o.Error={Type:o.Type,Code:o.Code,Message:s};let{errorSchema:c,errorMetadata:l}=await this.mixin.getErrorSchemaOrThrowBaseException(a,this.options.defaultNamespace,n,o,i,this.mixin.findQueryCompatibleError),u=T.of(c),d=new((E.for(c[1]).getErrorCtor(c))??Error)(s),f={Type:o.Error.Type,Code:o.Error.Code,Error:o.Error};for(let[e,t]of u.structIterator()){let n=t.getMergedTraits().xmlName??e,i=o[n]??r[n];f[e]=this.deserializer.readSchema(t,i)}throw this.mixin.decorateServiceException(Object.assign(d,l,{$fault:u.getMergedTraits().error,message:s},f),r)}loadQueryErrorCode(e,t){let n=(t.Errors?.[0]?.Error??t.Errors?.Error??t.Error)?.Code;if(n!==void 0)return n;if(e.statusCode==404)return`NotFound`}loadQueryError(e){return e.Errors?.[0]?.Error??e.Errors?.Error??e.Error}loadQueryErrorMessage(e){let t=this.loadQueryError(e);return t?.message??t?.Message??e.message??e.Message??`Unknown`}getDefaultContentType(){return`application/x-www-form-urlencoded`}};const Rr=/\d{12}\.ddb/;async function zr(e,t,n){if(n.request?.headers?.[`smithy-protocol`]===`rpc-v2-cbor`&&N(e,`PROTOCOL_RPC_V2_CBOR`,`M`),typeof t.retryStrategy==`function`){let n=await t.retryStrategy();typeof n.acquireInitialRetryToken==`function`?n.constructor?.name?.includes(`Adaptive`)?N(e,`RETRY_MODE_ADAPTIVE`,`F`):N(e,`RETRY_MODE_STANDARD`,`E`):N(e,`RETRY_MODE_LEGACY`,`D`)}if(typeof t.accountIdEndpointMode==`function`){let n=e.endpointV2;switch(String(n?.url?.hostname).match(Rr)&&N(e,`ACCOUNT_ID_ENDPOINT`,`O`),await t.accountIdEndpointMode?.()){case`disabled`:N(e,`ACCOUNT_ID_MODE_DISABLED`,`Q`);break;case`preferred`:N(e,`ACCOUNT_ID_MODE_PREFERRED`,`P`);break;case`required`:N(e,`ACCOUNT_ID_MODE_REQUIRED`,`R`);break}}let r=e.__smithy_context?.selectedHttpAuthScheme?.identity;if(r?.$source){let t=r;t.accountId&&N(e,`RESOLVED_ACCOUNT_ID`,`T`);for(let[n,r]of Object.entries(t.$source??{}))N(e,n,r)}}const Br=`user-agent`,Vr=`x-amz-user-agent`,Hr=/[^!$%&'*+\-.^_`|~\w]/g,Ur=/[^!$%&'*+\-.^_`|~\w#]/g;function Wr(e){let t=``;for(let n in e){let r=e[n];if(t.length+r.length+1<=1024){t.length?t+=`,`+r:t+=r;continue}break}return t}const Gr=e=>(t,n)=>async r=>{let{request:i}=r;if(!c.isInstance(i))return t(r);let{headers:a}=i,o=n?.userAgent?.map(Kr)||[],s=(await e.defaultUserAgentProvider()).map(Kr);await zr(n,e,r);let l=n;s.push(`m/${Wr(Object.assign({},n.__smithy_context?.features,l.__aws_sdk_context?.features))}`);let u=e?.customUserAgent?.map(Kr)||[],d=await e.userAgentAppId();d&&s.push(Kr([`app`,`${d}`]));let f=_n(),p=(f?[f]:[]).concat([...s,...o,...u]).join(` `),m=[...s.filter(e=>e.startsWith(`aws-sdk-`)),...u].join(` `);return e.runtime===`browser`?a[Vr]=p:(m&&(a[Vr]=a[Vr]?`${a[Br]} ${m}`:m),a[Br]=p),t({...r,request:i})},Kr=e=>{let t=e[0].split(`/`).map(e=>e.replace(Hr,`-`)).join(`/`),n=e[1]?.replace(Ur,`-`),r=t.indexOf(`/`),i=t.substring(0,r),a=t.substring(r+1);return i===`api`&&(a=a.toLowerCase()),[i,a,n].filter(e=>e&&e.length>0).reduce((e,t,n)=>{switch(n){case 0:return t;case 1:return`${e}/${t}`;default:return`${e}#${t}`}},``)},qr={name:`getUserAgentMiddleware`,step:`build`,priority:`low`,tags:[`SET_USER_AGENT`,`USER_AGENT`],override:!0},Jr=e=>({applyToStack:t=>{t.add(Gr(e),qr)}}),Yr=new Set,Xr=(e,t=Bt)=>{if(!Yr.has(e)&&!t(e))if(e===`*`)console.warn(`@smithy/config-resolver WARN - Please use the caller region instead of "*". See "sigv4a" in https://github.com/aws/aws-sdk-js-v3/blob/main/supplemental-docs/CLIENTS.md.`);else throw Error(`Region not accepted: region="${e}" is not a valid hostname component.`);else Yr.add(e)},Zr=e=>typeof e==`string`&&(e.startsWith(`fips-`)||e.endsWith(`-fips`)),Qr=e=>Zr(e)?[`fips-aws-global`,`aws-fips`].includes(e)?`us-east-1`:e.replace(/fips-(dkr-|prod-)?|-fips/,``):e,$r=e=>{let{region:t,useFipsEndpoint:n}=e;if(!t)throw Error(`Region is missing`);return Object.assign(e,{region:async()=>{let e=Qr(typeof t==`function`?await t():t);return Xr(e),e},useFipsEndpoint:async()=>Zr(typeof t==`string`?t:await t())?!0:typeof n==`function`?n():Promise.resolve(!!n)})},ei=`content-length`;function ti(e){return t=>async n=>{let r=n.request;if(c.isInstance(r)){let{body:t,headers:n}=r;if(t&&Object.keys(n).map(e=>e.toLowerCase()).indexOf(ei)===-1)try{let n=e(t);r.headers={...r.headers,[ei]:String(n)}}catch{}}return t({...n,request:r})}}const ni={step:`build`,tags:[`SET_CONTENT_LENGTH`,`CONTENT_LENGTH`],name:`contentLengthMiddleware`,override:!0},ri=e=>({applyToStack:t=>{t.add(ti(e.bodyLengthChecker),ni)}}),ii=async e=>{let t=e?.Bucket||``;if(typeof e.Bucket==`string`&&(e.Bucket=t.replace(/#/g,`%23`).replace(/\?/g,`%3F`)),li(t)){if(e.ForcePathStyle===!0)throw Error(`Path-style addressing cannot be used with ARN buckets`)}else (!ci(t)||t.indexOf(`.`)!==-1&&!String(e.Endpoint).startsWith(`http:`)||t.toLowerCase()!==t||t.length<3)&&(e.ForcePathStyle=!0);return e.DisableMultiRegionAccessPoints&&(e.disableMultiRegionAccessPoints=!0,e.DisableMRAP=!0),e},ai=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,oi=/(\d+\.){3}\d+/,si=/\.\./,ci=e=>ai.test(e)&&!oi.test(e)&&!si.test(e),li=e=>{let[t,n,r,,,i]=e.split(`:`),a=t===`arn`&&e.split(`:`).length>=6,o=!!(a&&n&&r&&i);if(a&&!o)throw Error(`Invalid ARN: ${e} was an invalid ARN.`);return o},ui=(e,t,n)=>{let r=async()=>{let r=n[e]??n[t];return typeof r==`function`?r():r};return e===`credentialScope`||t===`CredentialScope`?async()=>{let e=typeof n.credentials==`function`?await n.credentials():n.credentials;return e?.credentialScope??e?.CredentialScope}:e===`accountId`||t===`AccountId`?async()=>{let e=typeof n.credentials==`function`?await n.credentials():n.credentials;return e?.accountId??e?.AccountId}:e===`endpoint`||t===`endpoint`?async()=>{if(n.isCustomEndpoint===!1)return;let e=await r();if(e&&typeof e==`object`){if(`url`in e)return e.url.href;if(`hostname`in e){let{protocol:t,hostname:n,port:r,path:i}=e;return`${t}//${n}${r?`:`+r:``}${i}`}}return e}:r},di=async e=>void 0,fi=e=>typeof e==`object`?`url`in e?bn(e.url):e:bn(e),pi=async(e,t,n,r)=>{if(!n.isCustomEndpoint){let e;e=n.serviceConfiguredEndpoint?await n.serviceConfiguredEndpoint():await di(n.serviceId),e&&(n.endpoint=()=>Promise.resolve(fi(e)),n.isCustomEndpoint=!0)}let i=await mi(e,t,n);if(typeof n.endpointProvider!=`function`)throw Error(`config.endpointProvider is not set.`);return n.endpointProvider(i,r)},mi=async(e,t,n)=>{let r={},i=t?.getEndpointParameterInstructions?.()||{};for(let[t,a]of Object.entries(i))switch(a.type){case`staticContextParams`:r[t]=a.value;break;case`contextParams`:r[t]=e[a.name];break;case`clientContextParams`:case`builtInParams`:r[t]=await ui(a.name,t,n)();break;case`operationContextParams`:r[t]=a.get(e);break;default:throw Error(`Unrecognized endpoint parameter instruction: `+JSON.stringify(a))}return Object.keys(i).length===0&&Object.assign(r,n),String(n.serviceId).toLowerCase()===`s3`&&await ii(r),r},hi=({config:e,instructions:t})=>(n,r)=>async i=>{e.isCustomEndpoint&&Ot(r,`ENDPOINT_OVERRIDE`,`N`);let a=await pi(i.input,{getEndpointParameterInstructions(){return t}},{...e},r);r.endpointV2=a,r.authSchemes=a.properties?.authSchemes;let o=r.authSchemes?.[0];if(o){r.signing_region=o.signingRegion,r.signing_service=o.signingName;let e=g(r)?.selectedHttpAuthScheme?.httpAuthOption;e&&(e.signingProperties=Object.assign(e.signingProperties||{},{signing_region:o.signingRegion,signingRegion:o.signingRegion,signing_service:o.signingName,signingName:o.signingName,signingRegionSet:o.signingRegionSet},o.properties))}return n({...i})},gi={step:`serialize`,tags:[`ENDPOINT_PARAMETERS`,`ENDPOINT_V2`,`ENDPOINT`],name:`endpointV2Middleware`,override:!0,relation:`before`,toMiddleware:ue.name},_i=(e,t)=>({applyToStack:n=>{n.addRelativeTo(hi({config:e,instructions:t}),gi)}}),vi=e=>{let t=e.tls??!0,{endpoint:n,useDualstackEndpoint:r,useFipsEndpoint:i}=e,a=n==null?void 0:async()=>fi(await _(n)()),o=!!n,s=Object.assign(e,{endpoint:a,tls:t,isCustomEndpoint:o,useDualstackEndpoint:_(r??!1),useFipsEndpoint:_(i??!1)}),c;return s.serviceConfiguredEndpoint=async()=>(e.serviceId&&!c&&(c=di(e.serviceId)),c),s};var yi;(function(e){e.STANDARD=`standard`,e.ADAPTIVE=`adaptive`})(yi||={});const bi=yi.STANDARD,xi=[`BandwidthLimitExceeded`,`EC2ThrottledException`,`LimitExceededException`,`PriorRequestNotComplete`,`ProvisionedThroughputExceededException`,`RequestLimitExceeded`,`RequestThrottled`,`RequestThrottledException`,`SlowDown`,`ThrottledException`,`Throttling`,`ThrottlingException`,`TooManyRequestsException`,`TransactionInProgressException`],Si=[`TimeoutError`,`RequestTimeout`,`RequestTimeoutException`],Ci=[500,502,503,504],wi=[`ECONNRESET`,`ECONNREFUSED`,`EPIPE`,`ETIMEDOUT`],Ti=[`EHOSTUNREACH`,`ENETUNREACH`,`ENOTFOUND`],Ei=e=>e?.$retryable!==void 0,Di=e=>e.$metadata?.clockSkewCorrected,Oi=e=>{let t=new Set([`Failed to fetch`,`NetworkError when attempting to fetch resource`,`The Internet connection appears to be offline`,`Load failed`,`Network request failed`]);return e&&e instanceof TypeError?t.has(e.message):!1},ki=e=>e.$metadata?.httpStatusCode===429||xi.includes(e.name)||e.$retryable?.throttling==1,Ai=(e,t=0)=>Ei(e)||Di(e)||Si.includes(e.name)||wi.includes(e?.code||``)||Ti.includes(e?.code||``)||Ci.includes(e.$metadata?.httpStatusCode||0)||Oi(e)||e.cause!==void 0&&t<=10&&Ai(e.cause,t+1),ji=e=>{if(e.$metadata?.httpStatusCode!==void 0){let t=e.$metadata.httpStatusCode;return 500<=t&&t<=599&&!Ai(e)}return!1};var Mi=class e{static setTimeoutFn=setTimeout;beta;minCapacity;minFillRate;scaleConstant;smooth;currentCapacity=0;enabled=!1;lastMaxRate=0;measuredTxRate=0;requestCount=0;fillRate;lastThrottleTime;lastTimestamp=0;lastTxRateBucket;maxCapacity;timeWindow=0;constructor(e){this.beta=e?.beta??.7,this.minCapacity=e?.minCapacity??1,this.minFillRate=e?.minFillRate??.5,this.scaleConstant=e?.scaleConstant??.4,this.smooth=e?.smooth??.8,this.lastThrottleTime=this.getCurrentTimeInSeconds(),this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(t){if(this.enabled){if(this.refillTokenBucket(),t>this.currentCapacity){let n=(t-this.currentCapacity)/this.fillRate*1e3;await new Promise(t=>e.setTimeoutFn(t,n))}this.currentCapacity-=t}}refillTokenBucket(){let e=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=e;return}let t=(e-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+t),this.lastTimestamp=e}updateClientSendingRate(e){let t;if(this.updateMeasuredRate(),ki(e)){let e=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=e,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),t=this.cubicThrottle(e),this.enableTokenBucket()}else this.calculateTimeWindow(),t=this.cubicSuccess(this.getCurrentTimeInSeconds());let n=Math.min(t,2*this.measuredTxRate);this.updateTokenBucketRate(n)}calculateTimeWindow(){this.timeWindow=this.getPrecise((this.lastMaxRate*(1-this.beta)/this.scaleConstant)**(1/3))}cubicThrottle(e){return this.getPrecise(e*this.beta)}cubicSuccess(e){return this.getPrecise(this.scaleConstant*(e-this.lastThrottleTime-this.timeWindow)**3+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(e){this.refillTokenBucket(),this.fillRate=Math.max(e,this.minFillRate),this.maxCapacity=Math.max(e,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){let e=this.getCurrentTimeInSeconds(),t=Math.floor(e*2)/2;if(this.requestCount++,t>this.lastTxRateBucket){let e=this.requestCount/(t-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(e*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=t}}getPrecise(e){return parseFloat(e.toFixed(8))}};const Ni=20*1e3,Pi=()=>{let e=100;return{computeNextBackoffDelay:t=>Math.floor(Math.min(Ni,Math.random()*2**t*e)),setDelayBase:t=>{e=t}}},Fi=({retryDelay:e,retryCount:t,retryCost:n})=>({getRetryCount:()=>t,getRetryDelay:()=>Math.min(Ni,e),getRetryCost:()=>n});var Ii=class{maxAttempts;mode=yi.STANDARD;capacity=500;retryBackoffStrategy=Pi();maxAttemptsProvider;constructor(e){this.maxAttempts=e,this.maxAttemptsProvider=typeof e==`function`?e:async()=>e}async acquireInitialRetryToken(e){return Fi({retryDelay:100,retryCount:0})}async refreshRetryTokenForRetry(e,t){let n=await this.getMaxAttempts();if(this.shouldRetry(e,t,n)){let n=t.errorType;this.retryBackoffStrategy.setDelayBase(n===`THROTTLING`?500:100);let r=this.retryBackoffStrategy.computeNextBackoffDelay(e.getRetryCount()),i=t.retryAfterHint?Math.max(t.retryAfterHint.getTime()-Date.now()||0,r):r,a=this.getCapacityCost(n);return this.capacity-=a,Fi({retryDelay:i,retryCount:e.getRetryCount()+1,retryCost:a})}throw Error(`No retry token available`)}recordSuccess(e){this.capacity=Math.max(500,this.capacity+(e.getRetryCost()??1))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of 3`),3}}shouldRetry(e,t,n){return e.getRetryCount()+1<n&&this.capacity>=this.getCapacityCost(t.errorType)&&this.isRetryableError(t.errorType)}getCapacityCost(e){return e===`TRANSIENT`?10:5}isRetryableError(e){return e===`THROTTLING`||e===`TRANSIENT`}},Li=class{maxAttemptsProvider;rateLimiter;standardRetryStrategy;mode=yi.ADAPTIVE;constructor(e,t){this.maxAttemptsProvider=e;let{rateLimiter:n}=t??{};this.rateLimiter=n??new Mi,this.standardRetryStrategy=new Ii(e)}async acquireInitialRetryToken(e){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(e)}async refreshRetryTokenForRetry(e,t){return this.rateLimiter.updateClientSendingRate(t),this.standardRetryStrategy.refreshRetryTokenForRetry(e,t)}recordSuccess(e){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(e)}};const Ri=e=>e instanceof Error?e:e instanceof Object?Object.assign(Error(),e):typeof e==`string`?Error(e):Error(`AWS SDK error wrapper for ${e}`),zi=e=>{let{retryStrategy:t,retryMode:n,maxAttempts:r}=e,i=_(r??3);return Object.assign(e,{maxAttempts:i,retryStrategy:async()=>t||(await _(n)()===yi.ADAPTIVE?new Li(i):new Ii(i))})},Bi=e=>e?.body instanceof ReadableStream,Vi=e=>(t,n)=>async r=>{let i=await e.retryStrategy(),a=await e.maxAttempts();if(Hi(i)){i=i;let e=await i.acquireInitialRetryToken(n.partition_id),o=Error(),s=0,l=0,{request:u}=r,d=c.isInstance(u);for(d&&(u.headers[`amz-sdk-invocation-id`]=nt());;)try{d&&(u.headers[`amz-sdk-request`]=`attempt=${s+1}; max=${a}`);let{response:n,output:o}=await t(r);return i.recordSuccess(e),o.$metadata.attempts=s+1,o.$metadata.totalRetryDelay=l,{response:n,output:o}}catch(t){let r=Ui(t);if(o=Ri(t),d&&Bi(u))throw(n.logger instanceof kr?console:n.logger)?.warn(`An error was encountered in a non-retryable streaming request.`),o;try{e=await i.refreshRetryTokenForRetry(e,r)}catch{throw o.$metadata||={},o.$metadata.attempts=s+1,o.$metadata.totalRetryDelay=l,o}s=e.getRetryCount();let a=e.getRetryDelay();l+=a,await new Promise(e=>setTimeout(e,a))}}else return i=i,i?.mode&&(n.userAgent=[...n.userAgent||[],[`cfg/retry-mode`,i.mode]]),i.retry(t,r)},Hi=e=>e.acquireInitialRetryToken!==void 0&&e.refreshRetryTokenForRetry!==void 0&&e.recordSuccess!==void 0,Ui=e=>{let t={error:e,errorType:Wi(e)},n=qi(e.$response);return n&&(t.retryAfterHint=n),t},Wi=e=>ki(e)?`THROTTLING`:Ai(e)?`TRANSIENT`:ji(e)?`SERVER_ERROR`:`CLIENT_ERROR`,Gi={name:`retryMiddleware`,tags:[`RETRY`],step:`finalizeRequest`,priority:`high`,override:!0},Ki=e=>({applyToStack:t=>{t.add(Vi(e),Gi)}}),qi=e=>{if(!u.isInstance(e))return;let t=Object.keys(e.headers).find(e=>e.toLowerCase()===`retry-after`);if(!t)return;let n=e.headers[t],r=Number(n);return Number.isNaN(r)?new Date(n):new Date(r*1e3)},Ji=async(e,t,n)=>({operation:g(t).operation,region:await _(e.region)()||(()=>{throw Error("expected `region` to be configured for `aws.auth#sigv4`")})()});function Yi(e){return{schemeId:`aws.auth#sigv4`,signingProperties:{name:`sts`,region:e.region},propertiesExtractor:(e,t)=>({signingProperties:{config:e,context:t}})}}function Xi(e){return{schemeId:`smithy.api#noAuth`}}const Zi=e=>{let t=[];switch(e.operation){case`AssumeRoleWithSAML`:t.push(Xi(e));break;case`AssumeRoleWithWebIdentity`:t.push(Xi(e));break;default:t.push(Yi(e))}return t},Qi=e=>Object.assign(e,{stsClientCtor:lo}),$i=e=>{let t=or(Qi(e));return Object.assign(t,{authSchemePreference:_(e.authSchemePreference??[])})},ea=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,defaultSigningName:`sts`}),ta={UseGlobalEndpoint:{type:`builtInParams`,name:`useGlobalEndpoint`},UseFIPS:{type:`builtInParams`,name:`useFipsEndpoint`},Endpoint:{type:`builtInParams`,name:`endpoint`},Region:{type:`builtInParams`,name:`region`},UseDualStack:{type:`builtInParams`,name:`useDualstackEndpoint`}};var na=`3.946.0`,ra=typeof Buffer<`u`&&Buffer.from?function(e){return Buffer.from(e,`utf8`)}:e=>new TextEncoder().encode(e);function ia(e){return e instanceof Uint8Array?e:typeof e==`string`?ra(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}function aa(e){return typeof e==`string`?e.length===0:e.byteLength===0}var oa={name:`SHA-256`},sa={name:`HMAC`,hash:oa},ca=new Uint8Array([227,176,196,66,152,252,28,20,154,251,244,200,153,111,185,36,39,174,65,228,100,155,147,76,164,149,153,27,120,82,184,85]);const la={};function ua(){return typeof window<`u`?window:typeof self<`u`?self:la}var da=function(){function e(e){this.toHash=new Uint8Array,this.secret=e,this.reset()}return e.prototype.update=function(e){if(!aa(e)){var t=ia(e),n=new Uint8Array(this.toHash.byteLength+t.byteLength);n.set(this.toHash,0),n.set(t,this.toHash.byteLength),this.toHash=n}},e.prototype.digest=function(){var e=this;return this.key?this.key.then(function(t){return ua().crypto.subtle.sign(sa,t,e.toHash).then(function(e){return new Uint8Array(e)})}):aa(this.toHash)?Promise.resolve(ca):Promise.resolve().then(function(){return ua().crypto.subtle.digest(oa,e.toHash)}).then(function(e){return Promise.resolve(new Uint8Array(e))})},e.prototype.reset=function(){var e=this;this.toHash=new Uint8Array,this.secret&&this.secret!==void 0&&(this.key=new Promise(function(t,n){ua().crypto.subtle.importKey(`raw`,ia(e.secret),sa,!1,[`sign`]).then(t,n)}),this.key.catch(function(){}))},e}();function fa(e,t,n,r){function i(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||=Promise)(function(n,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){e.done?n(e.value):i(e.value).then(o,s)}c((r=r.apply(e,t||[])).next())})}function pa(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,o=Object.create((typeof Iterator==`function`?Iterator:Object).prototype);return o.next=s(0),o.throw=s(1),o.return=s(2),typeof Symbol==`function`&&(o[Symbol.iterator]=function(){return this}),o;function s(e){return function(t){return c([e,t])}}function c(s){if(r)throw TypeError(`Generator is already executing.`);for(;o&&(o=0,s[0]&&(n=0)),n;)try{if(r=1,i&&(a=s[0]&2?i.return:s[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,s[1])).done)return a;switch(i=0,a&&(s=[s[0]&2,a.value]),s[0]){case 0:case 1:a=s;break;case 4:return n.label++,{value:s[1],done:!1};case 5:n.label++,i=s[1],s=[0];continue;case 7:s=n.ops.pop(),n.trys.pop();continue;default:if((a=n.trys,!(a=a.length>0&&a[a.length-1]))&&(s[0]===6||s[0]===2)){n=0;continue}if(s[0]===3&&(!a||s[1]>a[0]&&s[1]<a[3])){n.label=s[1];break}if(s[0]===6&&n.label<a[1]){n.label=a[1],a=s;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(s);break}a[2]&&n.ops.pop(),n.trys.pop();continue}s=t.call(e,n)}catch(e){s=[6,e],i=0}finally{r=a=0}if(s[0]&5)throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}var I=64,ma=32,ha=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ga=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],_a=2**53-1,va=function(){function e(){this.state=Int32Array.from(ga),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(e){if(this.finished)throw Error(`Attempted to update an already finished hash.`);var t=0,n=e.byteLength;if(this.bytesHashed+=n,this.bytesHashed*8>_a)throw Error(`Cannot hash more than 2^53 - 1 bits`);for(;n>0;)this.buffer[this.bufferLength++]=e[t++],n--,this.bufferLength===I&&(this.hashBuffer(),this.bufferLength=0)},e.prototype.digest=function(){if(!this.finished){var e=this.bytesHashed*8,t=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),n=this.bufferLength;if(t.setUint8(this.bufferLength++,128),n%I>=I-8){for(var r=this.bufferLength;r<I;r++)t.setUint8(r,0);this.hashBuffer(),this.bufferLength=0}for(var r=this.bufferLength;r<I-8;r++)t.setUint8(r,0);t.setUint32(I-8,Math.floor(e/4294967296),!0),t.setUint32(I-4,e),this.hashBuffer(),this.finished=!0}for(var i=new Uint8Array(ma),r=0;r<8;r++)i[r*4]=this.state[r]>>>24&255,i[r*4+1]=this.state[r]>>>16&255,i[r*4+2]=this.state[r]>>>8&255,i[r*4+3]=this.state[r]>>>0&255;return i},e.prototype.hashBuffer=function(){for(var e=this,t=e.buffer,n=e.state,r=n[0],i=n[1],a=n[2],o=n[3],s=n[4],c=n[5],l=n[6],u=n[7],d=0;d<I;d++){if(d<16)this.temp[d]=(t[d*4]&255)<<24|(t[d*4+1]&255)<<16|(t[d*4+2]&255)<<8|t[d*4+3]&255;else{var f=this.temp[d-2],p=(f>>>17|f<<15)^(f>>>19|f<<13)^f>>>10;f=this.temp[d-15];var m=(f>>>7|f<<25)^(f>>>18|f<<14)^f>>>3;this.temp[d]=(p+this.temp[d-7]|0)+(m+this.temp[d-16]|0)}var h=(((s>>>6|s<<26)^(s>>>11|s<<21)^(s>>>25|s<<7))+(s&c^~s&l)|0)+(u+(ha[d]+this.temp[d]|0)|0)|0,ee=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&a^i&a)|0;u=l,l=c,c=s,s=o+h|0,o=a,a=i,i=r,r=h+ee|0}n[0]+=r,n[1]+=i,n[2]+=a,n[3]+=o,n[4]+=s,n[5]+=c,n[6]+=l,n[7]+=u},e}(),ya=function(){function e(e){this.secret=e,this.hash=new va,this.reset()}return e.prototype.update=function(e){if(!(aa(e)||this.error))try{this.hash.update(ia(e))}catch(e){this.error=e}},e.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},e.prototype.digest=function(){return fa(this,void 0,void 0,function(){return pa(this,function(e){return[2,this.digestSync()]})})},e.prototype.reset=function(){if(this.hash=new va,this.secret){this.outer=new va;var e=ba(this.secret),t=new Uint8Array(I);t.set(e);for(var n=0;n<I;n++)e[n]^=54,t[n]^=92;this.hash.update(e),this.outer.update(t);for(var n=0;n<e.byteLength;n++)e[n]=0}},e}();function ba(e){var t=ia(e);if(t.byteLength>I){var n=new va;n.update(t),t=n.digest()}var r=new Uint8Array(I);return r.set(t),r}var xa=[`decrypt`,`digest`,`encrypt`,`exportKey`,`generateKey`,`importKey`,`sign`,`verify`];function Sa(e){if(Ca(e)&&typeof e.crypto.subtle==`object`){var t=e.crypto.subtle;return wa(t)}return!1}function Ca(e){return typeof e==`object`&&typeof e.crypto==`object`?typeof e.crypto.getRandomValues==`function`:!1}function wa(e){return e&&xa.every(function(t){return typeof e[t]==`function`})}var Ta=function(){function e(e){Sa(ua())?this.hash=new da(e):this.hash=new ya(e)}return e.prototype.update=function(e,t){this.hash.update(ia(e))},e.prototype.digest=function(){return this.hash.digest()},e.prototype.reset=function(){this.hash.reset()},e}();const Ea=({serviceId:e,clientVersion:t})=>async n=>{let r=typeof window<`u`?window.navigator:void 0,i=r?.userAgent??``,a=r?.userAgentData?.platform??Da.os(i)??`other`,o=r?.userAgentData?.brands??[],s=o[o.length-1],c=s?.brand??Da.browser(i)??`unknown`,l=s?.version??`unknown`,u=[[`aws-sdk-js`,t],[`ua`,`2.1`],[`os/${a}`,void 0],[`lang/js`],[`md/browser`,`${c}_${l}`]];e&&u.push([`api/${e}`,t]);let d=await n?.userAgentAppId?.();return d&&u.push([`app/${d}`]),u},Da={os(e){if(/iPhone|iPad|iPod/.test(e))return`iOS`;if(/Macintosh|Mac OS X/.test(e))return`macOS`;if(/Windows NT/.test(e))return`Windows`;if(/Android/.test(e))return`Android`;if(/Linux/.test(e))return`Linux`},browser(e){if(/EdgiOS|EdgA|Edg\//.test(e))return`Microsoft Edge`;if(/Firefox\//.test(e))return`Firefox`;if(/Chrome\//.test(e))return`Chrome`;if(/Safari\//.test(e))return`Safari`}},Oa=e=>()=>Promise.reject(e),ka=[`in-region`,`cross-region`,`mobile`,`standard`,`legacy`],Aa=({defaultsMode:e}={})=>kn(async()=>{let t=typeof e==`function`?await e():e;switch(t?.toLowerCase()){case`auto`:return Promise.resolve(ja()?`mobile`:`standard`);case`mobile`:case`in-region`:case`cross-region`:case`standard`:case`legacy`:return Promise.resolve(t?.toLocaleLowerCase());case void 0:return Promise.resolve(`legacy`);default:throw Error(`Invalid parameter for "defaultsMode", expect ${ka.join(`, `)}, got ${t}`)}}),ja=()=>{let e=window?.navigator;if(e?.connection){let{effectiveType:t,rtt:n,downlink:r}=e?.connection;if(typeof t==`string`&&t!==`4g`||Number(n)>100||Number(r)<10)return!0}return e?.userAgentData?.mobile||typeof e?.maxTouchPoints==`number`&&e?.maxTouchPoints>1},Ma=`required`,L=`type`,R=`argv`,z=`booleanEquals`,B=`stringEquals`,Na=`sigv4`,Pa=`us-east-1`,V=`endpoint`,Fa=`https://sts.{Region}.{PartitionResult#dnsSuffix}`,H=`tree`,U=`error`,Ia=`getAttr`,La={[Ma]:!1,[L]:`string`},Ra={[Ma]:!0,default:!1,[L]:`boolean`},za={ref:`Endpoint`},Ba={fn:`isSet`,[R]:[{ref:`Region`}]},W={ref:`Region`},Va={fn:`aws.partition`,[R]:[W],assign:`PartitionResult`},Ha={ref:`UseFIPS`},Ua={ref:`UseDualStack`},G={url:`https://sts.amazonaws.com`,properties:{authSchemes:[{name:Na,signingName:`sts`,signingRegion:Pa}]},headers:{}},K={},Wa={conditions:[{fn:B,[R]:[W,`aws-global`]}],[V]:G,[L]:V},Ga={fn:z,[R]:[Ha,!0]},Ka={fn:z,[R]:[Ua,!0]},qa={fn:Ia,[R]:[{ref:`PartitionResult`},`supportsFIPS`]},Ja={ref:`PartitionResult`},Ya={fn:z,[R]:[!0,{fn:Ia,[R]:[Ja,`supportsDualStack`]}]},Xa=[{fn:`isSet`,[R]:[za]}],Za=[Ga],Qa=[Ka],$a={version:`1.0`,parameters:{Region:La,UseDualStack:Ra,UseFIPS:Ra,Endpoint:La,UseGlobalEndpoint:Ra},rules:[{conditions:[{fn:z,[R]:[{ref:`UseGlobalEndpoint`},!0]},{fn:`not`,[R]:Xa},Ba,Va,{fn:z,[R]:[Ha,!1]},{fn:z,[R]:[Ua,!1]}],rules:[{conditions:[{fn:B,[R]:[W,`ap-northeast-1`]}],endpoint:G,[L]:V},{conditions:[{fn:B,[R]:[W,`ap-south-1`]}],endpoint:G,[L]:V},{conditions:[{fn:B,[R]:[W,`ap-southeast-1`]}],endpoint:G,[L]:V},{conditions:[{fn:B,[R]:[W,`ap-southeast-2`]}],endpoint:G,[L]:V},Wa,{conditions:[{fn:B,[R]:[W,`ca-central-1`]}],endpoint:G,[L]:V},{conditions:[{fn:B,[R]:[W,`eu-central-1`]}],endpoint:G,[L]:V},{conditions:[{fn:B,[R]:[W,`eu-north-1`]}],endpoint:G,[L]:V},{conditions:[{fn:B,[R]:[W,`eu-west-1`]}],endpoint:G,[L]:V},{conditions:[{fn:B,[R]:[W,`eu-west-2`]}],endpoint:G,[L]:V},{conditions:[{fn:B,[R]:[W,`eu-west-3`]}],endpoint:G,[L]:V},{conditions:[{fn:B,[R]:[W,`sa-east-1`]}],endpoint:G,[L]:V},{conditions:[{fn:B,[R]:[W,Pa]}],endpoint:G,[L]:V},{conditions:[{fn:B,[R]:[W,`us-east-2`]}],endpoint:G,[L]:V},{conditions:[{fn:B,[R]:[W,`us-west-1`]}],endpoint:G,[L]:V},{conditions:[{fn:B,[R]:[W,`us-west-2`]}],endpoint:G,[L]:V},{endpoint:{url:Fa,properties:{authSchemes:[{name:Na,signingName:`sts`,signingRegion:`{Region}`}]},headers:K},[L]:V}],[L]:H},{conditions:Xa,rules:[{conditions:Za,error:`Invalid Configuration: FIPS and custom endpoint are not supported`,[L]:U},{conditions:Qa,error:`Invalid Configuration: Dualstack and custom endpoint are not supported`,[L]:U},{endpoint:{url:za,properties:K,headers:K},[L]:V}],[L]:H},{conditions:[Ba],rules:[{conditions:[Va],rules:[{conditions:[Ga,Ka],rules:[{conditions:[{fn:z,[R]:[!0,qa]},Ya],rules:[{endpoint:{url:`https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}`,properties:K,headers:K},[L]:V}],[L]:H},{error:`FIPS and DualStack are enabled, but this partition does not support one or both`,[L]:U}],[L]:H},{conditions:Za,rules:[{conditions:[{fn:z,[R]:[qa,!0]}],rules:[{conditions:[{fn:B,[R]:[{fn:Ia,[R]:[Ja,`name`]},`aws-us-gov`]}],endpoint:{url:`https://sts.{Region}.amazonaws.com`,properties:K,headers:K},[L]:V},{endpoint:{url:`https://sts-fips.{Region}.{PartitionResult#dnsSuffix}`,properties:K,headers:K},[L]:V}],[L]:H},{error:`FIPS is enabled but this partition does not support FIPS`,[L]:U}],[L]:H},{conditions:Qa,rules:[{conditions:[Ya],rules:[{endpoint:{url:`https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}`,properties:K,headers:K},[L]:V}],[L]:H},{error:`DualStack is enabled but this partition does not support DualStack`,[L]:U}],[L]:H},Wa,{endpoint:{url:Fa,properties:K,headers:K},[L]:V}],[L]:H}],[L]:H},{error:`Invalid Configuration: Missing Region`,[L]:U}]},eo=new It({size:50,params:[`Endpoint`,`Region`,`UseDualStack`,`UseFIPS`,`UseGlobalEndpoint`]}),to=(e,t={})=>eo.get(e,()=>fn($a,{endpointParams:e,logger:t.logger}));Vt.aws=vn,x();const no=e=>({apiVersion:`2011-06-15`,base64Decoder:e?.base64Decoder??be,base64Encoder:e?.base64Encoder??we,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??to,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??Zi,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:`aws.auth#sigv4`,identityProvider:e=>e.getIdentityProvider(`aws.auth#sigv4`),signer:new On},{schemeId:`smithy.api#noAuth`,identityProvider:e=>e.getIdentityProvider(`smithy.api#noAuth`)||(async()=>({})),signer:new At}],logger:e?.logger??new kr,protocol:e?.protocol??new Lr({defaultNamespace:`com.amazonaws.sts`,xmlNamespace:`https://sts.amazonaws.com/doc/2011-06-15/`,version:`2011-06-15`}),serviceId:e?.serviceId??`STS`,urlParser:e?.urlParser??bn,utf8Decoder:e?.utf8Decoder??v,utf8Encoder:e?.utf8Encoder??b}),ro=e=>{let t=Aa(e),n=()=>t().then(xr),r=no(e);return{...r,...e,runtime:`browser`,defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??ur,credentialDefaultProvider:e?.credentialDefaultProvider??(e=>()=>Promise.reject(Error(`Credential is missing`))),defaultUserAgentProvider:e?.defaultUserAgentProvider??Ea({serviceId:r.serviceId,clientVersion:na}),maxAttempts:e?.maxAttempts??3,region:e?.region??Oa(`Region is missing`),requestHandler:je.create(e?.requestHandler??n),retryMode:e?.retryMode??(async()=>(await n()).retryMode||bi),sha256:e?.sha256??Ta,streamCollector:e?.streamCollector??Me,useDualstackEndpoint:e?.useDualstackEndpoint??(()=>Promise.resolve(!1)),useFipsEndpoint:e?.useFipsEndpoint??(()=>Promise.resolve(!1))}},io=e=>({setRegion(t){e.region=t},region(){return e.region}}),ao=e=>({region:e.region()}),oo=e=>{let t=e.httpAuthSchemes,n=e.httpAuthSchemeProvider,r=e.credentials;return{setHttpAuthScheme(e){let n=t.findIndex(t=>t.schemeId===e.schemeId);n===-1?t.push(e):t.splice(n,1,e)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(e){n=e},httpAuthSchemeProvider(){return n},setCredentials(e){r=e},credentials(){return r}}},so=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),co=(e,t)=>{let n=Object.assign(io(e),Er(e),r(e),oo(e));return t.forEach(e=>e.configure(n)),Object.assign(e,ao(n),Dr(n),i(n),so(n))};var lo=class extends mr{config;constructor(...[e]){let t=ro(e||{});super(t),this.initConfig=t,this.config=co($i(vi(d($r(zi(Ft(ea(t))))))),e?.extensions||[]),this.middlewareStack.use(Je(this.config)),this.middlewareStack.use(Jr(this.config)),this.middlewareStack.use(Ki(this.config)),this.middlewareStack.use(ri(this.config)),this.middlewareStack.use(m(this.config)),this.middlewareStack.use(te(this.config)),this.middlewareStack.use(ie(this.config)),this.middlewareStack.use(le(this.config,{httpAuthSchemeParametersProvider:Ji,identityProviderConfigProvider:async e=>new kt({"aws.auth#sigv4":e.credentials})})),this.middlewareStack.use(he(this.config))}destroy(){super.destroy()}},q=class e extends yr{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}},uo=class e extends q{name=`ExpiredTokenException`;$fault=`client`;constructor(t){super({name:`ExpiredTokenException`,$fault:`client`,...t}),Object.setPrototypeOf(this,e.prototype)}},fo=class e extends q{name=`MalformedPolicyDocumentException`;$fault=`client`;constructor(t){super({name:`MalformedPolicyDocumentException`,$fault:`client`,...t}),Object.setPrototypeOf(this,e.prototype)}},po=class e extends q{name=`PackedPolicyTooLargeException`;$fault=`client`;constructor(t){super({name:`PackedPolicyTooLargeException`,$fault:`client`,...t}),Object.setPrototypeOf(this,e.prototype)}},mo=class e extends q{name=`RegionDisabledException`;$fault=`client`;constructor(t){super({name:`RegionDisabledException`,$fault:`client`,...t}),Object.setPrototypeOf(this,e.prototype)}},ho=class e extends q{name=`IDPRejectedClaimException`;$fault=`client`;constructor(t){super({name:`IDPRejectedClaimException`,$fault:`client`,...t}),Object.setPrototypeOf(this,e.prototype)}},go=class e extends q{name=`InvalidIdentityTokenException`;$fault=`client`;constructor(t){super({name:`InvalidIdentityTokenException`,$fault:`client`,...t}),Object.setPrototypeOf(this,e.prototype)}},_o=class e extends q{name=`IDPCommunicationErrorException`;$fault=`client`;constructor(t){super({name:`IDPCommunicationErrorException`,$fault:`client`,...t}),Object.setPrototypeOf(this,e.prototype)}},vo=class e extends q{name=`InvalidAuthorizationMessageException`;$fault=`client`;constructor(t){super({name:`InvalidAuthorizationMessageException`,$fault:`client`,...t}),Object.setPrototypeOf(this,e.prototype)}},yo=class e extends q{name=`ExpiredTradeInTokenException`;$fault=`client`;constructor(t){super({name:`ExpiredTradeInTokenException`,$fault:`client`,...t}),Object.setPrototypeOf(this,e.prototype)}},bo=class e extends q{name=`JWTPayloadSizeExceededException`;$fault=`client`;constructor(t){super({name:`JWTPayloadSizeExceededException`,$fault:`client`,...t}),Object.setPrototypeOf(this,e.prototype)}},xo=class e extends q{name=`OutboundWebIdentityFederationDisabledException`;$fault=`client`;constructor(t){super({name:`OutboundWebIdentityFederationDisabledException`,$fault:`client`,...t}),Object.setPrototypeOf(this,e.prototype)}},So=class e extends q{name=`SessionDurationEscalationException`;$fault=`client`;constructor(t){super({name:`SessionDurationEscalationException`,$fault:`client`,...t}),Object.setPrototypeOf(this,e.prototype)}};const J=`awsQueryError`,Y=`client`,X=`error`,Z=`httpError`,Q=`message`,Co=`smithy.ts.sdk.synthetic.com.amazonaws.sts`,$=`com.amazonaws.sts`;var wo=[-3,$,`ExpiredTokenException`,{[X]:Y,[Z]:400,[J]:[`ExpiredTokenException`,400]},[Q],[0]];E.for($).registerError(wo,uo);var To=[-3,$,`ExpiredTradeInTokenException`,{[X]:Y,[Z]:400,[J]:[`ExpiredTradeInTokenException`,400]},[Q],[0]];E.for($).registerError(To,yo);var Eo=[3,$,`GetCallerIdentityRequest`,0,[],[]],Do=[3,$,`GetCallerIdentityResponse`,0,[`UserId`,`Account`,`Arn`],[0,0,0]],Oo=[-3,$,`IDPCommunicationErrorException`,{[X]:Y,[Z]:400,[J]:[`IDPCommunicationError`,400]},[Q],[0]];E.for($).registerError(Oo,_o);var ko=[-3,$,`IDPRejectedClaimException`,{[X]:Y,[Z]:403,[J]:[`IDPRejectedClaim`,403]},[Q],[0]];E.for($).registerError(ko,ho);var Ao=[-3,$,`InvalidAuthorizationMessageException`,{[X]:Y,[Z]:400,[J]:[`InvalidAuthorizationMessageException`,400]},[Q],[0]];E.for($).registerError(Ao,vo);var jo=[-3,$,`InvalidIdentityTokenException`,{[X]:Y,[Z]:400,[J]:[`InvalidIdentityToken`,400]},[Q],[0]];E.for($).registerError(jo,go);var Mo=[-3,$,`JWTPayloadSizeExceededException`,{[X]:Y,[Z]:400,[J]:[`JWTPayloadSizeExceededException`,400]},[Q],[0]];E.for($).registerError(Mo,bo);var No=[-3,$,`MalformedPolicyDocumentException`,{[X]:Y,[Z]:400,[J]:[`MalformedPolicyDocument`,400]},[Q],[0]];E.for($).registerError(No,fo);var Po=[-3,$,`OutboundWebIdentityFederationDisabledException`,{[X]:Y,[Z]:403,[J]:[`OutboundWebIdentityFederationDisabledException`,403]},[Q],[0]];E.for($).registerError(Po,xo);var Fo=[-3,$,`PackedPolicyTooLargeException`,{[X]:Y,[Z]:400,[J]:[`PackedPolicyTooLarge`,400]},[Q],[0]];E.for($).registerError(Fo,po);var Io=[-3,$,`RegionDisabledException`,{[X]:Y,[Z]:403,[J]:[`RegionDisabledException`,403]},[Q],[0]];E.for($).registerError(Io,mo);var Lo=[-3,$,`SessionDurationEscalationException`,{[X]:Y,[Z]:403,[J]:[`SessionDurationEscalationException`,403]},[Q],[0]];E.for($).registerError(Lo,So);var Ro=[-3,Co,`STSServiceException`,0,[],[]];E.for(Co).registerError(Ro,q);var zo=[9,$,`GetCallerIdentity`,0,()=>Eo,()=>Do],Bo=class extends _r.classBuilder().ep(ta).m(function(e,t,n,r){return[_i(n,e.getEndpointParameterInstructions())]}).s(`AWSSecurityTokenServiceV20110615`,`GetCallerIdentity`,{}).n(`STSClient`,`GetCallerIdentityCommand`).sc(zo).build(){};const Vo=new lo,Ho=async()=>Vo.send(new Bo);export{Ho as handler};